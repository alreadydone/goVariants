"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).go_variants_transformer=t()}}(function(){return function t(e,r,n){function o(i,s){if(!r[i]){if(!e[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var p=r[i]={exports:{}};e[i][0].call(p.exports,function(t){var r=e[i][1][t];return o(r||t)},p,p.exports,t,e,r,n)}return r[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(t,e,r){var n=t("./_getNative")(t("./_root"),"DataView");e.exports=n},{"./_getNative":74,"./_root":115}],2:[function(t,e,r){function n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}var o=t("./_hashClear"),a=t("./_hashDelete"),i=t("./_hashGet"),s=t("./_hashHas"),u=t("./_hashSet");n.prototype.clear=o,n.prototype.delete=a,n.prototype.get=i,n.prototype.has=s,n.prototype.set=u,e.exports=n},{"./_hashClear":82,"./_hashDelete":83,"./_hashGet":84,"./_hashHas":85,"./_hashSet":86}],3:[function(t,e,r){function n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}var o=t("./_listCacheClear"),a=t("./_listCacheDelete"),i=t("./_listCacheGet"),s=t("./_listCacheHas"),u=t("./_listCacheSet");n.prototype.clear=o,n.prototype.delete=a,n.prototype.get=i,n.prototype.has=s,n.prototype.set=u,e.exports=n},{"./_listCacheClear":96,"./_listCacheDelete":97,"./_listCacheGet":98,"./_listCacheHas":99,"./_listCacheSet":100}],4:[function(t,e,r){var n=t("./_getNative")(t("./_root"),"Map");e.exports=n},{"./_getNative":74,"./_root":115}],5:[function(t,e,r){function n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}var o=t("./_mapCacheClear"),a=t("./_mapCacheDelete"),i=t("./_mapCacheGet"),s=t("./_mapCacheHas"),u=t("./_mapCacheSet");n.prototype.clear=o,n.prototype.delete=a,n.prototype.get=i,n.prototype.has=s,n.prototype.set=u,e.exports=n},{"./_mapCacheClear":101,"./_mapCacheDelete":102,"./_mapCacheGet":103,"./_mapCacheHas":104,"./_mapCacheSet":105}],6:[function(t,e,r){var n=t("./_getNative")(t("./_root"),"Promise");e.exports=n},{"./_getNative":74,"./_root":115}],7:[function(t,e,r){var n=t("./_getNative")(t("./_root"),"Set");e.exports=n},{"./_getNative":74,"./_root":115}],8:[function(t,e,r){function n(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new o;++e<r;)this.add(t[e])}var o=t("./_MapCache"),a=t("./_setCacheAdd"),i=t("./_setCacheHas");n.prototype.add=n.prototype.push=a,n.prototype.has=i,e.exports=n},{"./_MapCache":5,"./_setCacheAdd":116,"./_setCacheHas":117}],9:[function(t,e,r){function n(t){var e=this.__data__=new o(t);this.size=e.size}var o=t("./_ListCache"),a=t("./_stackClear"),i=t("./_stackDelete"),s=t("./_stackGet"),u=t("./_stackHas"),c=t("./_stackSet");n.prototype.clear=a,n.prototype.delete=i,n.prototype.get=s,n.prototype.has=u,n.prototype.set=c,e.exports=n},{"./_ListCache":3,"./_stackClear":119,"./_stackDelete":120,"./_stackGet":121,"./_stackHas":122,"./_stackSet":123}],10:[function(t,e,r){var n=t("./_root").Symbol;e.exports=n},{"./_root":115}],11:[function(t,e,r){var n=t("./_root").Uint8Array;e.exports=n},{"./_root":115}],12:[function(t,e,r){var n=t("./_getNative")(t("./_root"),"WeakMap");e.exports=n},{"./_getNative":74,"./_root":115}],13:[function(t,e,r){e.exports=function(t,e){return t.set(e[0],e[1]),t}},{}],14:[function(t,e,r){e.exports=function(t,e){return t.add(e),t}},{}],15:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},{}],16:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,a=[];++r<n;){var i=t[r];e(i,r,t)&&(a[o++]=i)}return a}},{}],17:[function(t,e,r){var n=t("./_baseTimes"),o=t("./isArguments"),a=t("./isArray"),i=t("./isBuffer"),s=t("./_isIndex"),u=t("./isTypedArray"),c=Object.prototype.hasOwnProperty;e.exports=function(t,e){var r=a(t),p=!r&&o(t),f=!r&&!p&&i(t),l=!r&&!p&&!f&&u(t),_=r||p||f||l,y=_?n(t.length,String):[],d=y.length;for(var b in t)!e&&!c.call(t,b)||_&&("length"==b||f&&("offset"==b||"parent"==b)||l&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||s(b,d))||y.push(b);return y}},{"./_baseTimes":47,"./_isIndex":90,"./isArguments":133,"./isArray":134,"./isBuffer":136,"./isTypedArray":143}],18:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},{}],19:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},{}],20:[function(t,e,r){e.exports=function(t,e,r,n){var o=-1,a=null==t?0:t.length;for(n&&a&&(r=t[++o]);++o<a;)r=e(r,t[o],o,t);return r}},{}],21:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},{}],22:[function(t,e,r){var n=t("./_baseAssignValue"),o=t("./eq"),a=Object.prototype.hasOwnProperty;e.exports=function(t,e,r){var i=t[e];a.call(t,e)&&o(i,r)&&(void 0!==r||e in t)||n(t,e,r)}},{"./_baseAssignValue":26,"./eq":128}],23:[function(t,e,r){var n=t("./eq");e.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},{"./eq":128}],24:[function(t,e,r){var n=t("./_copyObject"),o=t("./keys");e.exports=function(t,e){return t&&n(e,o(e),t)}},{"./_copyObject":61,"./keys":144}],25:[function(t,e,r){var n=t("./_copyObject"),o=t("./keysIn");e.exports=function(t,e){return t&&n(e,o(e),t)}},{"./_copyObject":61,"./keysIn":145}],26:[function(t,e,r){var n=t("./_defineProperty");e.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},{"./_defineProperty":65}],27:[function(t,e,r){function n(t,e,r,D,P,M){var L,B=e&A,G=e&S,q=e&O;if(r&&(L=P?r(t,D,P,M):r(t)),void 0!==L)return L;if(!x(t))return t;var F=g(t);if(F){if(L=b(t),!B)return p(t,L)}else{var E=d(t),K=E==w||E==k;if(m(t))return c(t,B);if(E==I||E==C||K&&!P){if(L=G||K?{}:v(t),!B)return G?l(t,u(L,t)):f(t,s(L,t))}else{if(!T[E])return P?t:{};L=h(t,E,n,B)}}M||(M=new o);var N=M.get(t);if(N)return N;M.set(t,L);var W=q?G?y:_:G?keysIn:j,z=F?void 0:W(t);return a(z||t,function(o,a){z&&(o=t[a=o]),i(L,a,n(o,e,r,a,t,M))}),L}var o=t("./_Stack"),a=t("./_arrayEach"),i=t("./_assignValue"),s=t("./_baseAssign"),u=t("./_baseAssignIn"),c=t("./_cloneBuffer"),p=t("./_copyArray"),f=t("./_copySymbols"),l=t("./_copySymbolsIn"),_=t("./_getAllKeys"),y=t("./_getAllKeysIn"),d=t("./_getTag"),b=t("./_initCloneArray"),h=t("./_initCloneByTag"),v=t("./_initCloneObject"),g=t("./isArray"),m=t("./isBuffer"),x=t("./isObject"),j=t("./keys"),A=1,S=2,O=4,C="[object Arguments]",w="[object Function]",k="[object GeneratorFunction]",I="[object Object]",T={};T[C]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[I]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[w]=T["[object WeakMap]"]=!1,e.exports=n},{"./_Stack":9,"./_arrayEach":15,"./_assignValue":22,"./_baseAssign":24,"./_baseAssignIn":25,"./_cloneBuffer":53,"./_copyArray":60,"./_copySymbols":62,"./_copySymbolsIn":63,"./_getAllKeys":70,"./_getAllKeysIn":71,"./_getTag":79,"./_initCloneArray":87,"./_initCloneByTag":88,"./_initCloneObject":89,"./isArray":134,"./isBuffer":136,"./isObject":140,"./keys":144}],28:[function(t,e,r){var n=t("./isObject"),o=Object.create,a=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();e.exports=a},{"./isObject":140}],29:[function(t,e,r){e.exports=function(t,e,r,n){for(var o=t.length,a=r+(n?1:-1);n?a--:++a<o;)if(e(t[a],a,t))return a;return-1}},{}],30:[function(t,e,r){var n=t("./_castPath"),o=t("./_toKey");e.exports=function(t,e){for(var r=0,a=(e=n(e,t)).length;null!=t&&r<a;)t=t[o(e[r++])];return r&&r==a?t:void 0}},{"./_castPath":51,"./_toKey":125}],31:[function(t,e,r){var n=t("./_arrayPush"),o=t("./isArray");e.exports=function(t,e,r){var a=e(t);return o(t)?a:n(a,r(t))}},{"./_arrayPush":19,"./isArray":134}],32:[function(t,e,r){var n=t("./_Symbol"),o=t("./_getRawTag"),a=t("./_objectToString"),i="[object Null]",s="[object Undefined]",u=n?n.toStringTag:void 0;e.exports=function(t){return null==t?void 0===t?s:i:u&&u in Object(t)?o(t):a(t)}},{"./_Symbol":10,"./_getRawTag":76,"./_objectToString":113}],33:[function(t,e,r){e.exports=function(t,e){return null!=t&&e in Object(t)}},{}],34:[function(t,e,r){var n=t("./_baseGetTag"),o=t("./isObjectLike"),a="[object Arguments]";e.exports=function(t){return o(t)&&n(t)==a}},{"./_baseGetTag":32,"./isObjectLike":141}],35:[function(t,e,r){function n(t,e,r,i,s){return t===e||(null==t||null==e||!a(t)&&!a(e)?t!=t&&e!=e:o(t,e,r,i,n,s))}var o=t("./_baseIsEqualDeep"),a=t("./isObjectLike");e.exports=n},{"./_baseIsEqualDeep":36,"./isObjectLike":141}],36:[function(t,e,r){var n=t("./_Stack"),o=t("./_equalArrays"),a=t("./_equalByTag"),i=t("./_equalObjects"),s=t("./_getTag"),u=t("./isArray"),c=t("./isBuffer"),p=t("./isTypedArray"),f=1,l="[object Arguments]",_="[object Array]",y="[object Object]",d=Object.prototype.hasOwnProperty;e.exports=function(t,e,r,b,h,v){var g=u(t),m=u(e),x=g?_:s(t),j=m?_:s(e),A=(x=x==l?y:x)==y,S=(j=j==l?y:j)==y,O=x==j;if(O&&c(t)){if(!c(e))return!1;g=!0,A=!1}if(O&&!A)return v||(v=new n),g||p(t)?o(t,e,r,b,h,v):a(t,e,x,r,b,h,v);if(!(r&f)){var C=A&&d.call(t,"__wrapped__"),w=S&&d.call(e,"__wrapped__");if(C||w){var k=C?t.value():t,I=w?e.value():e;return v||(v=new n),h(k,I,r,b,v)}}return!!O&&(v||(v=new n),i(t,e,r,b,h,v))}},{"./_Stack":9,"./_equalArrays":66,"./_equalByTag":67,"./_equalObjects":68,"./_getTag":79,"./isArray":134,"./isBuffer":136,"./isTypedArray":143}],37:[function(t,e,r){var n=t("./_Stack"),o=t("./_baseIsEqual"),a=1,i=2;e.exports=function(t,e,r,s){var u=r.length,c=u,p=!s;if(null==t)return!c;for(t=Object(t);u--;){var f=r[u];if(p&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++u<c;){var l=(f=r[u])[0],_=t[l],y=f[1];if(p&&f[2]){if(void 0===_&&!(l in t))return!1}else{var d=new n;if(s)var b=s(_,y,l,t,e,d);if(!(void 0===b?o(y,_,a|i,s,d):b))return!1}}return!0}},{"./_Stack":9,"./_baseIsEqual":35}],38:[function(t,e,r){var n=t("./isFunction"),o=t("./_isMasked"),a=t("./isObject"),i=t("./_toSource"),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,p=u.toString,f=c.hasOwnProperty,l=RegExp("^"+p.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(t){return!(!a(t)||o(t))&&(n(t)?l:s).test(i(t))}},{"./_isMasked":93,"./_toSource":126,"./isFunction":138,"./isObject":140}],39:[function(t,e,r){var n=t("./_baseGetTag"),o=t("./isLength"),a=t("./isObjectLike"),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(t){return a(t)&&o(t.length)&&!!i[n(t)]}},{"./_baseGetTag":32,"./isLength":139,"./isObjectLike":141}],40:[function(t,e,r){var n=t("./_baseMatches"),o=t("./_baseMatchesProperty"),a=t("./identity"),i=t("./isArray"),s=t("./property");e.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==(void 0===t?"undefined":_typeof(t))?i(t)?o(t[0],t[1]):n(t):s(t)}},{"./_baseMatches":43,"./_baseMatchesProperty":44,"./identity":132,"./isArray":134,"./property":147}],41:[function(t,e,r){var n=t("./_isPrototype"),o=t("./_nativeKeys"),a=Object.prototype.hasOwnProperty;e.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))a.call(t,r)&&"constructor"!=r&&e.push(r);return e}},{"./_isPrototype":94,"./_nativeKeys":110}],42:[function(t,e,r){var n=t("./isObject"),o=t("./_isPrototype"),a=t("./_nativeKeysIn"),i=Object.prototype.hasOwnProperty;e.exports=function(t){if(!n(t))return a(t);var e=o(t),r=[];for(var s in t)("constructor"!=s||!e&&i.call(t,s))&&r.push(s);return r}},{"./_isPrototype":94,"./_nativeKeysIn":111,"./isObject":140}],43:[function(t,e,r){var n=t("./_baseIsMatch"),o=t("./_getMatchData"),a=t("./_matchesStrictComparable");e.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},{"./_baseIsMatch":37,"./_getMatchData":73,"./_matchesStrictComparable":107}],44:[function(t,e,r){var n=t("./_baseIsEqual"),o=t("./get"),a=t("./hasIn"),i=t("./_isKey"),s=t("./_isStrictComparable"),u=t("./_matchesStrictComparable"),c=t("./_toKey"),p=1,f=2;e.exports=function(t,e){return i(t)&&s(e)?u(c(t),e):function(r){var i=o(r,t);return void 0===i&&i===e?a(r,t):n(e,i,p|f)}}},{"./_baseIsEqual":35,"./_isKey":91,"./_isStrictComparable":95,"./_matchesStrictComparable":107,"./_toKey":125,"./get":130,"./hasIn":131}],45:[function(t,e,r){e.exports=function(t){return function(e){return null==e?void 0:e[t]}}},{}],46:[function(t,e,r){var n=t("./_baseGet");e.exports=function(t){return function(e){return n(e,t)}}},{"./_baseGet":30}],47:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},{}],48:[function(t,e,r){function n(t){if("string"==typeof t)return t;if(i(t))return a(t,n)+"";if(s(t))return p?p.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}var o=t("./_Symbol"),a=t("./_arrayMap"),i=t("./isArray"),s=t("./isSymbol"),u=1/0,c=o?o.prototype:void 0,p=c?c.toString:void 0;e.exports=n},{"./_Symbol":10,"./_arrayMap":18,"./isArray":134,"./isSymbol":142}],49:[function(t,e,r){e.exports=function(t){return function(e){return t(e)}}},{}],50:[function(t,e,r){e.exports=function(t,e){return t.has(e)}},{}],51:[function(t,e,r){var n=t("./isArray"),o=t("./_isKey"),a=t("./_stringToPath"),i=t("./toString");e.exports=function(t,e){return n(t)?t:o(t,e)?[t]:a(i(t))}},{"./_isKey":91,"./_stringToPath":124,"./isArray":134,"./toString":153}],52:[function(t,e,r){var n=t("./_Uint8Array");e.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},{"./_Uint8Array":11}],53:[function(t,e,r){var n=t("./_root"),o="object"==(void 0===r?"undefined":_typeof(r))&&r&&!r.nodeType&&r,a=o&&"object"==(void 0===e?"undefined":_typeof(e))&&e&&!e.nodeType&&e,i=a&&a.exports===o?n.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=function(t,e){if(e)return t.slice();var r=t.length,n=s?s(r):new t.constructor(r);return t.copy(n),n}},{"./_root":115}],54:[function(t,e,r){var n=t("./_cloneArrayBuffer");e.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},{"./_cloneArrayBuffer":52}],55:[function(t,e,r){var n=t("./_addMapEntry"),o=t("./_arrayReduce"),a=t("./_mapToArray"),i=1;e.exports=function(t,e,r){var s=e?r(a(t),i):a(t);return o(s,n,new t.constructor)}},{"./_addMapEntry":13,"./_arrayReduce":20,"./_mapToArray":106}],56:[function(t,e,r){var n=/\w*$/;e.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},{}],57:[function(t,e,r){var n=t("./_addSetEntry"),o=t("./_arrayReduce"),a=t("./_setToArray"),i=1;e.exports=function(t,e,r){var s=e?r(a(t),i):a(t);return o(s,n,new t.constructor)}},{"./_addSetEntry":14,"./_arrayReduce":20,"./_setToArray":118}],58:[function(t,e,r){var n=t("./_Symbol"),o=n?n.prototype:void 0,a=o?o.valueOf:void 0;e.exports=function(t){return a?Object(a.call(t)):{}}},{"./_Symbol":10}],59:[function(t,e,r){var n=t("./_cloneArrayBuffer");e.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},{"./_cloneArrayBuffer":52}],60:[function(t,e,r){e.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},{}],61:[function(t,e,r){var n=t("./_assignValue"),o=t("./_baseAssignValue");e.exports=function(t,e,r,a){var i=!r;r||(r={});for(var s=-1,u=e.length;++s<u;){var c=e[s],p=a?a(r[c],t[c],c,r,t):void 0;void 0===p&&(p=t[c]),i?o(r,c,p):n(r,c,p)}return r}},{"./_assignValue":22,"./_baseAssignValue":26}],62:[function(t,e,r){var n=t("./_copyObject"),o=t("./_getSymbols");e.exports=function(t,e){return n(t,o(t),e)}},{"./_copyObject":61,"./_getSymbols":77}],63:[function(t,e,r){var n=t("./_copyObject"),o=t("./_getSymbolsIn");e.exports=function(t,e){return n(t,o(t),e)}},{"./_copyObject":61,"./_getSymbolsIn":78}],64:[function(t,e,r){var n=t("./_root")["__core-js_shared__"];e.exports=n},{"./_root":115}],65:[function(t,e,r){var n=t("./_getNative"),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();e.exports=o},{"./_getNative":74}],66:[function(t,e,r){var n=t("./_SetCache"),o=t("./_arraySome"),a=t("./_cacheHas"),i=1,s=2;e.exports=function(t,e,r,u,c,p){var f=r&i,l=t.length,_=e.length;if(l!=_&&!(f&&_>l))return!1;var y=p.get(t);if(y&&p.get(e))return y==e;var d=-1,b=!0,h=r&s?new n:void 0;for(p.set(t,e),p.set(e,t);++d<l;){var v=t[d],g=e[d];if(u)var m=f?u(g,v,d,e,t,p):u(v,g,d,t,e,p);if(void 0!==m){if(m)continue;b=!1;break}if(h){if(!o(e,function(t,e){if(!a(h,e)&&(v===t||c(v,t,r,u,p)))return h.push(e)})){b=!1;break}}else if(v!==g&&!c(v,g,r,u,p)){b=!1;break}}return p.delete(t),p.delete(e),b}},{"./_SetCache":8,"./_arraySome":21,"./_cacheHas":50}],67:[function(t,e,r){var n=t("./_Symbol"),o=t("./_Uint8Array"),a=t("./eq"),i=t("./_equalArrays"),s=t("./_mapToArray"),u=t("./_setToArray"),c=1,p=2,f="[object Boolean]",l="[object Date]",_="[object Error]",y="[object Map]",d="[object Number]",b="[object RegExp]",h="[object Set]",v="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",x="[object DataView]",j=n?n.prototype:void 0,A=j?j.valueOf:void 0;e.exports=function(t,e,r,n,j,S,O){switch(r){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case m:return!(t.byteLength!=e.byteLength||!S(new o(t),new o(e)));case f:case l:case d:return a(+t,+e);case _:return t.name==e.name&&t.message==e.message;case b:case v:return t==e+"";case y:var C=s;case h:var w=n&c;if(C||(C=u),t.size!=e.size&&!w)return!1;var k=O.get(t);if(k)return k==e;n|=p,O.set(t,e);var I=i(C(t),C(e),n,j,S,O);return O.delete(t),I;case g:if(A)return A.call(t)==A.call(e)}return!1}},{"./_Symbol":10,"./_Uint8Array":11,"./_equalArrays":66,"./_mapToArray":106,"./_setToArray":118,"./eq":128}],68:[function(t,e,r){var n=t("./_getAllKeys"),o=1,a=Object.prototype.hasOwnProperty;e.exports=function(t,e,r,i,s,u){var c=r&o,p=n(t),f=p.length;if(f!=n(e).length&&!c)return!1;for(var l=f;l--;){var _=p[l];if(!(c?_ in e:a.call(e,_)))return!1}var y=u.get(t);if(y&&u.get(e))return y==e;var d=!0;u.set(t,e),u.set(e,t);for(var b=c;++l<f;){var h=t[_=p[l]],v=e[_];if(i)var g=c?i(v,h,_,e,t,u):i(h,v,_,t,e,u);if(!(void 0===g?h===v||s(h,v,r,i,u):g)){d=!1;break}b||(b="constructor"==_)}if(d&&!b){var m=t.constructor,x=e.constructor;m!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof x&&x instanceof x)&&(d=!1)}return u.delete(t),u.delete(e),d}},{"./_getAllKeys":70}],69:[function(t,e,r){(function(t){var r="object"==(void 0===t?"undefined":_typeof(t))&&t&&t.Object===Object&&t;e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],70:[function(t,e,r){var n=t("./_baseGetAllKeys"),o=t("./_getSymbols"),a=t("./keys");e.exports=function(t){return n(t,a,o)}},{"./_baseGetAllKeys":31,"./_getSymbols":77,"./keys":144}],71:[function(t,e,r){var n=t("./_baseGetAllKeys"),o=t("./_getSymbolsIn"),a=t("./keysIn");e.exports=function(t){return n(t,a,o)}},{"./_baseGetAllKeys":31,"./_getSymbolsIn":78,"./keysIn":145}],72:[function(t,e,r){var n=t("./_isKeyable");e.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},{"./_isKeyable":92}],73:[function(t,e,r){var n=t("./_isStrictComparable"),o=t("./keys");e.exports=function(t){for(var e=o(t),r=e.length;r--;){var a=e[r],i=t[a];e[r]=[a,i,n(i)]}return e}},{"./_isStrictComparable":95,"./keys":144}],74:[function(t,e,r){var n=t("./_baseIsNative"),o=t("./_getValue");e.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},{"./_baseIsNative":38,"./_getValue":80}],75:[function(t,e,r){var n=t("./_overArg")(Object.getPrototypeOf,Object);e.exports=n},{"./_overArg":114}],76:[function(t,e,r){var n=t("./_Symbol"),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=n?n.toStringTag:void 0;e.exports=function(t){var e=a.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(t){}var o=i.call(t);return n&&(e?t[s]=r:delete t[s]),o}},{"./_Symbol":10}],77:[function(t,e,r){var n=t("./_arrayFilter"),o=t("./stubArray"),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(t){return null==t?[]:(t=Object(t),n(i(t),function(e){return a.call(t,e)}))}:o;e.exports=s},{"./_arrayFilter":16,"./stubArray":148}],78:[function(t,e,r){var n=t("./_arrayPush"),o=t("./_getPrototype"),a=t("./_getSymbols"),i=t("./stubArray"),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,a(t)),t=o(t);return e}:i;e.exports=s},{"./_arrayPush":19,"./_getPrototype":75,"./_getSymbols":77,"./stubArray":148}],79:[function(t,e,r){var n=t("./_DataView"),o=t("./_Map"),a=t("./_Promise"),i=t("./_Set"),s=t("./_WeakMap"),u=t("./_baseGetTag"),c=t("./_toSource"),p="[object Promise]",f="[object WeakMap]",l="[object DataView]",_=c(n),y=c(o),d=c(a),b=c(i),h=c(s),v=u;(n&&v(new n(new ArrayBuffer(1)))!=l||o&&"[object Map]"!=v(new o)||a&&v(a.resolve())!=p||i&&"[object Set]"!=v(new i)||s&&v(new s)!=f)&&(v=function(t){var e=u(t),r="[object Object]"==e?t.constructor:void 0,n=r?c(r):"";if(n)switch(n){case _:return l;case y:return"[object Map]";case d:return p;case b:return"[object Set]";case h:return f}return e}),e.exports=v},{"./_DataView":1,"./_Map":4,"./_Promise":6,"./_Set":7,"./_WeakMap":12,"./_baseGetTag":32,"./_toSource":126}],80:[function(t,e,r){e.exports=function(t,e){return null==t?void 0:t[e]}},{}],81:[function(t,e,r){var n=t("./_castPath"),o=t("./isArguments"),a=t("./isArray"),i=t("./_isIndex"),s=t("./isLength"),u=t("./_toKey");e.exports=function(t,e,r){for(var c=-1,p=(e=n(e,t)).length,f=!1;++c<p;){var l=u(e[c]);if(!(f=null!=t&&r(t,l)))break;t=t[l]}return f||++c!=p?f:!!(p=null==t?0:t.length)&&s(p)&&i(l,p)&&(a(t)||o(t))}},{"./_castPath":51,"./_isIndex":90,"./_toKey":125,"./isArguments":133,"./isArray":134,"./isLength":139}],82:[function(t,e,r){var n=t("./_nativeCreate");e.exports=function(){this.__data__=n?n(null):{},this.size=0}},{"./_nativeCreate":109}],83:[function(t,e,r){e.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},{}],84:[function(t,e,r){var n=t("./_nativeCreate"),o="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;if(n){var r=e[t];return r===o?void 0:r}return a.call(e,t)?e[t]:void 0}},{"./_nativeCreate":109}],85:[function(t,e,r){var n=t("./_nativeCreate"),o=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},{"./_nativeCreate":109}],86:[function(t,e,r){var n=t("./_nativeCreate"),o="__lodash_hash_undefined__";e.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?o:e,this}},{"./_nativeCreate":109}],87:[function(t,e,r){var n=Object.prototype.hasOwnProperty;e.exports=function(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},{}],88:[function(t,e,r){var n=t("./_cloneArrayBuffer"),o=t("./_cloneDataView"),a=t("./_cloneMap"),i=t("./_cloneRegExp"),s=t("./_cloneSet"),u=t("./_cloneSymbol"),c=t("./_cloneTypedArray"),p="[object Boolean]",f="[object Date]",l="[object Map]",_="[object Number]",y="[object RegExp]",d="[object Set]",b="[object String]",h="[object Symbol]",v="[object ArrayBuffer]",g="[object DataView]",m="[object Float32Array]",x="[object Float64Array]",j="[object Int8Array]",A="[object Int16Array]",S="[object Int32Array]",O="[object Uint8Array]",C="[object Uint8ClampedArray]",w="[object Uint16Array]",k="[object Uint32Array]";e.exports=function(t,e,r,I){var T=t.constructor;switch(e){case v:return n(t);case p:case f:return new T(+t);case g:return o(t,I);case m:case x:case j:case A:case S:case O:case C:case w:case k:return c(t,I);case l:return a(t,I,r);case _:case b:return new T(t);case y:return i(t);case d:return s(t,I,r);case h:return u(t)}}},{"./_cloneArrayBuffer":52,"./_cloneDataView":54,"./_cloneMap":55,"./_cloneRegExp":56,"./_cloneSet":57,"./_cloneSymbol":58,"./_cloneTypedArray":59}],89:[function(t,e,r){var n=t("./_baseCreate"),o=t("./_getPrototype"),a=t("./_isPrototype");e.exports=function(t){return"function"!=typeof t.constructor||a(t)?{}:n(o(t))}},{"./_baseCreate":28,"./_getPrototype":75,"./_isPrototype":94}],90:[function(t,e,r){var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=function(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<e}},{}],91:[function(t,e,r){var n=t("./isArray"),o=t("./isSymbol"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(t,e){if(n(t))return!1;var r=void 0===t?"undefined":_typeof(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||i.test(t)||!a.test(t)||null!=e&&t in Object(e)}},{"./isArray":134,"./isSymbol":142}],92:[function(t,e,r){e.exports=function(t){var e=void 0===t?"undefined":_typeof(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},{}],93:[function(t,e,r){var n=t("./_coreJsData"),o=function(){var t=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();e.exports=function(t){return!!o&&o in t}},{"./_coreJsData":64}],94:[function(t,e,r){var n=Object.prototype;e.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},{}],95:[function(t,e,r){var n=t("./isObject");e.exports=function(t){return t==t&&!n(t)}},{"./isObject":140}],96:[function(t,e,r){e.exports=function(){this.__data__=[],this.size=0}},{}],97:[function(t,e,r){var n=t("./_assocIndexOf"),o=Array.prototype.splice;e.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():o.call(e,r,1),--this.size,0))}},{"./_assocIndexOf":23}],98:[function(t,e,r){var n=t("./_assocIndexOf");e.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},{"./_assocIndexOf":23}],99:[function(t,e,r){var n=t("./_assocIndexOf");e.exports=function(t){return n(this.__data__,t)>-1}},{"./_assocIndexOf":23}],100:[function(t,e,r){var n=t("./_assocIndexOf");e.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},{"./_assocIndexOf":23}],101:[function(t,e,r){var n=t("./_Hash"),o=t("./_ListCache"),a=t("./_Map");e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||o),string:new n}}},{"./_Hash":2,"./_ListCache":3,"./_Map":4}],102:[function(t,e,r){var n=t("./_getMapData");e.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},{"./_getMapData":72}],103:[function(t,e,r){var n=t("./_getMapData");e.exports=function(t){return n(this,t).get(t)}},{"./_getMapData":72}],104:[function(t,e,r){var n=t("./_getMapData");e.exports=function(t){return n(this,t).has(t)}},{"./_getMapData":72}],105:[function(t,e,r){var n=t("./_getMapData");e.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},{"./_getMapData":72}],106:[function(t,e,r){e.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}},{}],107:[function(t,e,r){e.exports=function(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}}},{}],108:[function(t,e,r){var n=t("./memoize"),o=500;e.exports=function(t){var e=n(t,function(t){return r.size===o&&r.clear(),t}),r=e.cache;return e}},{"./memoize":146}],109:[function(t,e,r){var n=t("./_getNative")(Object,"create");e.exports=n},{"./_getNative":74}],110:[function(t,e,r){var n=t("./_overArg")(Object.keys,Object);e.exports=n},{"./_overArg":114}],111:[function(t,e,r){e.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},{}],112:[function(t,e,r){var n=t("./_freeGlobal"),o="object"==(void 0===r?"undefined":_typeof(r))&&r&&!r.nodeType&&r,a=o&&"object"==(void 0===e?"undefined":_typeof(e))&&e&&!e.nodeType&&e,i=a&&a.exports===o&&n.process,s=function(){try{return i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=s},{"./_freeGlobal":69}],113:[function(t,e,r){var n=Object.prototype.toString;e.exports=function(t){return n.call(t)}},{}],114:[function(t,e,r){e.exports=function(t,e){return function(r){return t(e(r))}}},{}],115:[function(t,e,r){var n=t("./_freeGlobal"),o="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,a=n||o||Function("return this")();e.exports=a},{"./_freeGlobal":69}],116:[function(t,e,r){var n="__lodash_hash_undefined__";e.exports=function(t){return this.__data__.set(t,n),this}},{}],117:[function(t,e,r){e.exports=function(t){return this.__data__.has(t)}},{}],118:[function(t,e,r){e.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}},{}],119:[function(t,e,r){var n=t("./_ListCache");e.exports=function(){this.__data__=new n,this.size=0}},{"./_ListCache":3}],120:[function(t,e,r){e.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},{}],121:[function(t,e,r){e.exports=function(t){return this.__data__.get(t)}},{}],122:[function(t,e,r){e.exports=function(t){return this.__data__.has(t)}},{}],123:[function(t,e,r){var n=t("./_ListCache"),o=t("./_Map"),a=t("./_MapCache"),i=200;e.exports=function(t,e){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!o||s.length<i-1)return s.push([t,e]),this.size=++r.size,this;r=this.__data__=new a(s)}return r.set(t,e),this.size=r.size,this}},{"./_ListCache":3,"./_Map":4,"./_MapCache":5}],124:[function(t,e,r){var n=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=t("./_memoizeCapped")(function(t){var e=[];return n.test(t)&&e.push(""),t.replace(o,function(t,r,n,o){e.push(n?o.replace(a,"$1"):r||t)}),e});e.exports=i},{"./_memoizeCapped":108}],125:[function(t,e,r){var n=t("./isSymbol"),o=1/0;e.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}},{"./isSymbol":142}],126:[function(t,e,r){var n=Function.prototype.toString;e.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},{}],127:[function(t,e,r){var n=t("./_baseClone"),o=4;e.exports=function(t){return n(t,o)}},{"./_baseClone":27}],128:[function(t,e,r){e.exports=function(t,e){return t===e||t!=t&&e!=e}},{}],129:[function(t,e,r){var n=t("./_baseFindIndex"),o=t("./_baseIteratee"),a=t("./toInteger"),i=Math.max;e.exports=function(t,e,r){var s=null==t?0:t.length;if(!s)return-1;var u=null==r?0:a(r);return u<0&&(u=i(s+u,0)),n(t,o(e,3),u)}},{"./_baseFindIndex":29,"./_baseIteratee":40,"./toInteger":151}],130:[function(t,e,r){var n=t("./_baseGet");e.exports=function(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}},{"./_baseGet":30}],131:[function(t,e,r){var n=t("./_baseHasIn"),o=t("./_hasPath");e.exports=function(t,e){return null!=t&&o(t,e,n)}},{"./_baseHasIn":33,"./_hasPath":81}],132:[function(t,e,r){e.exports=function(t){return t}},{}],133:[function(t,e,r){var n=t("./_baseIsArguments"),o=t("./isObjectLike"),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return o(t)&&i.call(t,"callee")&&!s.call(t,"callee")};e.exports=u},{"./_baseIsArguments":34,"./isObjectLike":141}],134:[function(t,e,r){var n=Array.isArray;e.exports=n},{}],135:[function(t,e,r){var n=t("./isFunction"),o=t("./isLength");e.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},{"./isFunction":138,"./isLength":139}],136:[function(t,e,r){var n=t("./_root"),o=t("./stubFalse"),a="object"==(void 0===r?"undefined":_typeof(r))&&r&&!r.nodeType&&r,i=a&&"object"==(void 0===e?"undefined":_typeof(e))&&e&&!e.nodeType&&e,s=i&&i.exports===a?n.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;e.exports=u},{"./_root":115,"./stubFalse":149}],137:[function(t,e,r){var n=t("./_baseIsEqual");e.exports=function(t,e){return n(t,e)}},{"./_baseIsEqual":35}],138:[function(t,e,r){var n=t("./_baseGetTag"),o=t("./isObject"),a="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";e.exports=function(t){if(!o(t))return!1;var e=n(t);return e==i||e==s||e==a||e==u}},{"./_baseGetTag":32,"./isObject":140}],139:[function(t,e,r){var n=9007199254740991;e.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},{}],140:[function(t,e,r){e.exports=function(t){var e=void 0===t?"undefined":_typeof(t);return null!=t&&("object"==e||"function"==e)}},{}],141:[function(t,e,r){e.exports=function(t){return null!=t&&"object"==(void 0===t?"undefined":_typeof(t))}},{}],142:[function(t,e,r){var n=t("./_baseGetTag"),o=t("./isObjectLike"),a="[object Symbol]";e.exports=function(t){return"symbol"==(void 0===t?"undefined":_typeof(t))||o(t)&&n(t)==a}},{"./_baseGetTag":32,"./isObjectLike":141}],143:[function(t,e,r){var n=t("./_baseIsTypedArray"),o=t("./_baseUnary"),a=t("./_nodeUtil"),i=a&&a.isTypedArray,s=i?o(i):n;e.exports=s},{"./_baseIsTypedArray":39,"./_baseUnary":49,"./_nodeUtil":112}],144:[function(t,e,r){var n=t("./_arrayLikeKeys"),o=t("./_baseKeys"),a=t("./isArrayLike");e.exports=function(t){return a(t)?n(t):o(t)}},{"./_arrayLikeKeys":17,"./_baseKeys":41,"./isArrayLike":135}],145:[function(t,e,r){var n=t("./_arrayLikeKeys"),o=t("./_baseKeysIn"),a=t("./isArrayLike");e.exports=function(t){return a(t)?n(t,!0):o(t)}},{"./_arrayLikeKeys":17,"./_baseKeysIn":42,"./isArrayLike":135}],146:[function(t,e,r){function n(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(a);var r=function r(){var n=arguments,o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=t.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(n.Cache||o),r}var o=t("./_MapCache"),a="Expected a function";n.Cache=o,e.exports=n},{"./_MapCache":5}],147:[function(t,e,r){var n=t("./_baseProperty"),o=t("./_basePropertyDeep"),a=t("./_isKey"),i=t("./_toKey");e.exports=function(t){return a(t)?n(i(t)):o(t)}},{"./_baseProperty":45,"./_basePropertyDeep":46,"./_isKey":91,"./_toKey":125}],148:[function(t,e,r){e.exports=function(){return[]}},{}],149:[function(t,e,r){e.exports=function(){return!1}},{}],150:[function(t,e,r){var n=t("./toNumber"),o=1/0,a=1.7976931348623157e308;e.exports=function(t){if(!t)return 0===t?t:0;if((t=n(t))===o||t===-o)return(t<0?-1:1)*a;return t==t?t:0}},{"./toNumber":152}],151:[function(t,e,r){var n=t("./toFinite");e.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},{"./toFinite":150}],152:[function(t,e,r){var n=t("./isObject"),o=t("./isSymbol"),a=NaN,i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,p=parseInt;e.exports=function(t){if("number"==typeof t)return t;if(o(t))return a;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var r=u.test(t);return r||c.test(t)?p(t.slice(2),r?2:8):s.test(t)?a:+t}},{"./isObject":140,"./isSymbol":142}],153:[function(t,e,r){var n=t("./_baseToString");e.exports=function(t){return null==t?"":n(t)}},{"./_baseToString":48}],154:[function(t,e,r){e.exports=function(e){function r(t,e){return n(t,function(t){return o(t,e)})}var n=t("lodash/findIndex"),o=t("lodash/isEqual"),a=t("lodash/clone"),i={},s=(e=e||{}).rules||{suicide:!0,superko:!1,komi:7.5};return i.options=e,e.boardDimensions=e.boardDimensions||[11,11],e.boardMode=e.boardMode||"t",i.board={},i.board.blackStones=e.blackStones||[],i.board.whiteStones=e.whiteStones||[],i.board.nextPlayer=e.nextPlayer||"b",i.board.captured=e.captured||[0,0],i.exportData=function(){return{blackStones:i.board.blackStones.map(a),whiteStones:i.board.whiteStones.map(a),captured:a(i.board.captured),nextPlayer:i.board.nextPlayer}},i.loadData=function(t){i.board.blackStones=t.blackStones,i.board.whiteStones=t.whiteStones,i.board.captured=t.captured,i.board.nextPlayer=t.nextPlayer},"t"===e.boardMode&&(i.board.getNeighbours=function(t){for(var r=[],n=0;n<4;n++){var o=void 0;switch(n){case 0:o=[t[0]+1,t[1]];break;case 1:o=[t[0]-1,t[1]];break;case 2:o=[t[0],t[1]+1];break;case 3:o=[t[0],t[1]-1]}r.push([(o[0]+e.boardDimensions[0])%e.boardDimensions[0],(o[1]+e.boardDimensions[1])%e.boardDimensions[1]])}return r}),"c"===e.boardMode&&(i.board.getNeighbours=function(t){for(var r=[],n=0;n<4;n++){var o=void 0;switch(n){case 0:o=[t[0]+1,t[1]];break;case 1:o=[t[0]-1,t[1]];break;case 2:o=[t[0],t[1]+1];break;case 3:o=[t[0],t[1]-1]}o[0]>=0&&o[0]<e.boardDimensions[0]&&o[1]>=0&&o[1]<e.boardDimensions[1]&&r.push(o)}return r}),i.board.isEmpty=function(t){return r(i.board.blackStones,t)<0&&r(i.board.whiteStones,t)<0},i.board.getColour=function(t){return r(i.board.blackStones,t)>=0?"b":r(i.board.whiteStones,t)>=0?"w":"e"},i.board.chainHasLiberty=function(t,e,n){void 0===n&&(n="e"),null===e&&(e=i.board.getColour(t));for(var o=[t],a=[],s=t;void 0!==s;){for(var u=i.board.getNeighbours(s),c=0;c<u.length;c++){var p=u[c],f=i.board.getColour(p);if(f===n)return!0;f===e&&r(o,p)<0&&(o.push(p),a.push(p))}s=a.pop()}return o},i.board.getComponent=function(t,e){return{points:[],colour:[],isDead:!1,isBlackTerritory:!1}},i.board.score=function(t){var e={whiteComponents:{},blackComponents:{},emptyComponents:{},totalBlackDead:0,totalWhiteDead:0,totalBlackPrisoners:0,totalWhitePrisoners:0,totalBlackTerritory:0,totalWhiteTerritory:0};e.blackScore=e.totalWhiteDead+e.totalBlackPrisoners+e.totalBlackTerritory,e.whiteScore=e.totalBlackDead+e.totalWhitePrisoners+e.totalWhiteTerritory+komi;var r=e.blackScore-e.whiteScore;return e.RE=0===r?"0":r>0?"B+"+r:"W+"+-r,e},i.board.empty=function(){i.board.whiteStones=[],i.board.blackStones=[],i.board.captured=[0,0]},i.removeChain=function(t,e){for(var n="w"===e?i.board.whiteStones:i.board.blackStones,o=0;o<t.length;o++){var a=r(n,t[o]);n.splice(a,1),"w"===e?i.board.captured[1]=i.board.captured[1]+1:i.board.captured[0]=i.board.captured[0]+1}},i.play=function(t,e){if(!i.board.isEmpty(e))throw new Error("point is not empty");"b"===t?i.board.blackStones.push(e):i.board.whiteStones.push(e);for(var r=i.board.getNeighbours(e),n=[],o=0;o<r.length;o++){var a=r[o],u=i.board.getColour(a);if(u!==t&&"e"!==u){var c=i.getOppositeColour(t),p=i.board.chainHasLiberty(a,c);!0!==p&&(n[n.length]=p,i.removeChain(p,c))}}var f=!1;if(0===n.length){var l=i.board.chainHasLiberty(e,t);if(!0!==l){if(!s.suicide)throw new Error("suicide");i.removeChain(l,t),f=l}}return{removed:n,suicide:f}},i.getOppositeColour=function(t){switch(t){case"b":return"w";case"w":return"b"}return null},i}},{"lodash/clone":127,"lodash/findIndex":129,"lodash/isEqual":137}],155:[function(t,e,r){arguments[4][1][0].apply(r,arguments)},{"./_getNative":210,"./_root":246,dup:1}],156:[function(t,e,r){arguments[4][2][0].apply(r,arguments)},{"./_hashClear":216,"./_hashDelete":217,"./_hashGet":218,"./_hashHas":219,"./_hashSet":220,dup:2}],157:[function(t,e,r){arguments[4][3][0].apply(r,arguments)},{"./_listCacheClear":228,"./_listCacheDelete":229,"./_listCacheGet":230,"./_listCacheHas":231,"./_listCacheSet":232,dup:3}],158:[function(t,e,r){arguments[4][4][0].apply(r,arguments)},{"./_getNative":210,"./_root":246,dup:4}],159:[function(t,e,r){arguments[4][5][0].apply(r,arguments)},{"./_mapCacheClear":233,"./_mapCacheDelete":234,"./_mapCacheGet":235,"./_mapCacheHas":236,"./_mapCacheSet":237,dup:5}],160:[function(t,e,r){arguments[4][6][0].apply(r,arguments)},{"./_getNative":210,"./_root":246,dup:6}],161:[function(t,e,r){arguments[4][7][0].apply(r,arguments)},{"./_getNative":210,"./_root":246,dup:7}],162:[function(t,e,r){arguments[4][8][0].apply(r,arguments)},{"./_MapCache":159,"./_setCacheAdd":247,"./_setCacheHas":248,dup:8}],163:[function(t,e,r){arguments[4][9][0].apply(r,arguments)},{"./_ListCache":157,"./_stackClear":250,"./_stackDelete":251,"./_stackGet":252,"./_stackHas":253,"./_stackSet":254,dup:9}],164:[function(t,e,r){arguments[4][10][0].apply(r,arguments)},{"./_root":246,dup:10}],165:[function(t,e,r){arguments[4][11][0].apply(r,arguments)},{"./_root":246,dup:11}],166:[function(t,e,r){arguments[4][12][0].apply(r,arguments)},{"./_getNative":210,"./_root":246,dup:12}],167:[function(t,e,r){arguments[4][16][0].apply(r,arguments)},{dup:16}],168:[function(t,e,r){var n=t("./_baseIndexOf");e.exports=function(t,e){return!(null==t||!t.length)&&n(t,e,0)>-1}},{"./_baseIndexOf":181}],169:[function(t,e,r){e.exports=function(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}},{}],170:[function(t,e,r){arguments[4][17][0].apply(r,arguments)},{"./_baseTimes":195,"./_isIndex":222,"./isArguments":264,"./isArray":265,"./isBuffer":267,"./isTypedArray":273,dup:17}],171:[function(t,e,r){arguments[4][18][0].apply(r,arguments)},{dup:18}],172:[function(t,e,r){arguments[4][19][0].apply(r,arguments)},{dup:19}],173:[function(t,e,r){arguments[4][21][0].apply(r,arguments)},{dup:21}],174:[function(t,e,r){arguments[4][23][0].apply(r,arguments)},{"./eq":259,dup:23}],175:[function(t,e,r){arguments[4][29][0].apply(r,arguments)},{dup:29}],176:[function(t,e,r){function n(t,e,r,i,s){var u=-1,c=t.length;for(r||(r=a),s||(s=[]);++u<c;){var p=t[u];e>0&&r(p)?e>1?n(p,e-1,r,i,s):o(s,p):i||(s[s.length]=p)}return s}var o=t("./_arrayPush"),a=t("./_isFlattenable");e.exports=n},{"./_arrayPush":172,"./_isFlattenable":221}],177:[function(t,e,r){arguments[4][30][0].apply(r,arguments)},{"./_castPath":200,"./_toKey":257,dup:30}],178:[function(t,e,r){arguments[4][31][0].apply(r,arguments)},{"./_arrayPush":172,"./isArray":265,dup:31}],179:[function(t,e,r){arguments[4][32][0].apply(r,arguments)},{"./_Symbol":164,"./_getRawTag":211,"./_objectToString":244,dup:32}],180:[function(t,e,r){arguments[4][33][0].apply(r,arguments)},{dup:33}],181:[function(t,e,r){var n=t("./_baseFindIndex"),o=t("./_baseIsNaN"),a=t("./_strictIndexOf");e.exports=function(t,e,r){return e==e?a(t,e,r):n(t,o,r)}},{"./_baseFindIndex":175,"./_baseIsNaN":186,"./_strictIndexOf":255}],182:[function(t,e,r){arguments[4][34][0].apply(r,arguments)},{"./_baseGetTag":179,"./isObjectLike":271,dup:34}],183:[function(t,e,r){arguments[4][35][0].apply(r,arguments)},{"./_baseIsEqualDeep":184,"./isObjectLike":271,dup:35}],184:[function(t,e,r){arguments[4][36][0].apply(r,arguments)},{"./_Stack":163,"./_equalArrays":203,"./_equalByTag":204,"./_equalObjects":205,"./_getTag":213,"./isArray":265,"./isBuffer":267,"./isTypedArray":273,dup:36}],185:[function(t,e,r){arguments[4][37][0].apply(r,arguments)},{"./_Stack":163,"./_baseIsEqual":183,dup:37}],186:[function(t,e,r){e.exports=function(t){return t!=t}},{}],187:[function(t,e,r){arguments[4][38][0].apply(r,arguments)},{"./_isMasked":225,"./_toSource":258,"./isFunction":268,"./isObject":270,dup:38}],188:[function(t,e,r){arguments[4][39][0].apply(r,arguments)},{"./_baseGetTag":179,"./isLength":269,"./isObjectLike":271,dup:39}],189:[function(t,e,r){arguments[4][40][0].apply(r,arguments)},{"./_baseMatches":191,"./_baseMatchesProperty":192,"./identity":263,"./isArray":265,"./property":277,dup:40}],190:[function(t,e,r){arguments[4][41][0].apply(r,arguments)},{"./_isPrototype":226,"./_nativeKeys":242,dup:41}],191:[function(t,e,r){arguments[4][43][0].apply(r,arguments)},{"./_baseIsMatch":185,"./_getMatchData":209,"./_matchesStrictComparable":239,dup:43}],192:[function(t,e,r){arguments[4][44][0].apply(r,arguments)},{"./_baseIsEqual":183,"./_isKey":223,"./_isStrictComparable":227,"./_matchesStrictComparable":239,"./_toKey":257,"./get":261,"./hasIn":262,dup:44}],193:[function(t,e,r){arguments[4][45][0].apply(r,arguments)},{dup:45}],194:[function(t,e,r){arguments[4][46][0].apply(r,arguments)},{"./_baseGet":177,dup:46}],195:[function(t,e,r){arguments[4][47][0].apply(r,arguments)},{dup:47}],196:[function(t,e,r){arguments[4][48][0].apply(r,arguments)},{"./_Symbol":164,"./_arrayMap":171,"./isArray":265,"./isSymbol":272,dup:48}],197:[function(t,e,r){arguments[4][49][0].apply(r,arguments)},{dup:49}],198:[function(t,e,r){var n=t("./_SetCache"),o=t("./_arrayIncludes"),a=t("./_arrayIncludesWith"),i=t("./_cacheHas"),s=t("./_createSet"),u=t("./_setToArray"),c=200;e.exports=function(t,e,r){var p=-1,f=o,l=t.length,_=!0,y=[],d=y;if(r)_=!1,f=a;else if(l>=c){var b=e?null:s(t);if(b)return u(b);_=!1,f=i,d=new n}else d=e?[]:y;t:for(;++p<l;){var h=t[p],v=e?e(h):h;if(h=r||0!==h?h:0,_&&v==v){for(var g=d.length;g--;)if(d[g]===v)continue t;e&&d.push(v),y.push(h)}else f(d,v,r)||(d!==y&&d.push(v),y.push(h))}return y}},{"./_SetCache":162,"./_arrayIncludes":168,"./_arrayIncludesWith":169,"./_cacheHas":199,"./_createSet":202,"./_setToArray":249}],199:[function(t,e,r){arguments[4][50][0].apply(r,arguments)},{dup:50}],200:[function(t,e,r){arguments[4][51][0].apply(r,arguments)},{"./_isKey":223,"./_stringToPath":256,"./isArray":265,"./toString":280,dup:51}],201:[function(t,e,r){arguments[4][64][0].apply(r,arguments)},{"./_root":246,dup:64}],202:[function(t,e,r){var n=t("./_Set"),o=t("./noop"),a=t("./_setToArray"),i=n&&1/a(new n([,-0]))[1]==1/0?function(t){return new n(t)}:o;e.exports=i},{"./_Set":161,"./_setToArray":249,"./noop":276}],203:[function(t,e,r){arguments[4][66][0].apply(r,arguments)},{"./_SetCache":162,"./_arraySome":173,"./_cacheHas":199,dup:66}],204:[function(t,e,r){arguments[4][67][0].apply(r,arguments)},{"./_Symbol":164,"./_Uint8Array":165,"./_equalArrays":203,"./_mapToArray":238,"./_setToArray":249,"./eq":259,dup:67}],205:[function(t,e,r){arguments[4][68][0].apply(r,arguments)},{"./_getAllKeys":207,dup:68}],206:[function(t,e,r){arguments[4][69][0].apply(r,arguments)},{dup:69}],207:[function(t,e,r){arguments[4][70][0].apply(r,arguments)},{"./_baseGetAllKeys":178,"./_getSymbols":212,"./keys":274,dup:70}],208:[function(t,e,r){arguments[4][72][0].apply(r,arguments)},{"./_isKeyable":224,dup:72}],209:[function(t,e,r){arguments[4][73][0].apply(r,arguments)},{"./_isStrictComparable":227,"./keys":274,dup:73}],210:[function(t,e,r){arguments[4][74][0].apply(r,arguments)},{"./_baseIsNative":187,"./_getValue":214,dup:74}],211:[function(t,e,r){arguments[4][76][0].apply(r,arguments)},{"./_Symbol":164,dup:76}],212:[function(t,e,r){arguments[4][77][0].apply(r,arguments)},{"./_arrayFilter":167,"./stubArray":278,dup:77}],213:[function(t,e,r){arguments[4][79][0].apply(r,arguments)},{"./_DataView":155,"./_Map":158,"./_Promise":160,"./_Set":161,"./_WeakMap":166,"./_baseGetTag":179,"./_toSource":258,dup:79}],214:[function(t,e,r){arguments[4][80][0].apply(r,arguments)},{dup:80}],215:[function(t,e,r){arguments[4][81][0].apply(r,arguments)},{"./_castPath":200,"./_isIndex":222,"./_toKey":257,"./isArguments":264,"./isArray":265,"./isLength":269,dup:81}],216:[function(t,e,r){arguments[4][82][0].apply(r,arguments)},{"./_nativeCreate":241,dup:82}],217:[function(t,e,r){arguments[4][83][0].apply(r,arguments)},{dup:83}],218:[function(t,e,r){arguments[4][84][0].apply(r,arguments)},{"./_nativeCreate":241,dup:84}],219:[function(t,e,r){arguments[4][85][0].apply(r,arguments)},{"./_nativeCreate":241,dup:85}],220:[function(t,e,r){arguments[4][86][0].apply(r,arguments)},{"./_nativeCreate":241,dup:86}],221:[function(t,e,r){var n=t("./_Symbol"),o=t("./isArguments"),a=t("./isArray"),i=n?n.isConcatSpreadable:void 0;e.exports=function(t){return a(t)||o(t)||!!(i&&t&&t[i])}},{"./_Symbol":164,"./isArguments":264,"./isArray":265}],222:[function(t,e,r){arguments[4][90][0].apply(r,arguments)},{dup:90}],223:[function(t,e,r){arguments[4][91][0].apply(r,arguments)},{"./isArray":265,"./isSymbol":272,dup:91}],224:[function(t,e,r){arguments[4][92][0].apply(r,arguments)},{dup:92}],225:[function(t,e,r){arguments[4][93][0].apply(r,arguments)},{"./_coreJsData":201,dup:93}],226:[function(t,e,r){arguments[4][94][0].apply(r,arguments)},{dup:94}],227:[function(t,e,r){arguments[4][95][0].apply(r,arguments)},{"./isObject":270,dup:95}],228:[function(t,e,r){arguments[4][96][0].apply(r,arguments)},{dup:96}],229:[function(t,e,r){arguments[4][97][0].apply(r,arguments)},{"./_assocIndexOf":174,dup:97}],230:[function(t,e,r){arguments[4][98][0].apply(r,arguments)},{"./_assocIndexOf":174,dup:98}],231:[function(t,e,r){arguments[4][99][0].apply(r,arguments)},{"./_assocIndexOf":174,dup:99}],232:[function(t,e,r){arguments[4][100][0].apply(r,arguments)},{"./_assocIndexOf":174,dup:100}],233:[function(t,e,r){arguments[4][101][0].apply(r,arguments)},{"./_Hash":156,"./_ListCache":157,"./_Map":158,dup:101}],234:[function(t,e,r){arguments[4][102][0].apply(r,arguments)},{"./_getMapData":208,dup:102}],235:[function(t,e,r){arguments[4][103][0].apply(r,arguments)},{"./_getMapData":208,dup:103}],236:[function(t,e,r){arguments[4][104][0].apply(r,arguments)},{"./_getMapData":208,dup:104}],237:[function(t,e,r){arguments[4][105][0].apply(r,arguments)},{"./_getMapData":208,dup:105}],238:[function(t,e,r){arguments[4][106][0].apply(r,arguments)},{dup:106}],239:[function(t,e,r){arguments[4][107][0].apply(r,arguments)},{dup:107}],240:[function(t,e,r){arguments[4][108][0].apply(r,arguments)},{"./memoize":275,dup:108}],241:[function(t,e,r){arguments[4][109][0].apply(r,arguments)},{"./_getNative":210,dup:109}],242:[function(t,e,r){arguments[4][110][0].apply(r,arguments)},{"./_overArg":245,dup:110}],243:[function(t,e,r){arguments[4][112][0].apply(r,arguments)},{"./_freeGlobal":206,dup:112}],244:[function(t,e,r){arguments[4][113][0].apply(r,arguments)},{dup:113}],245:[function(t,e,r){arguments[4][114][0].apply(r,arguments)},{dup:114}],246:[function(t,e,r){arguments[4][115][0].apply(r,arguments)},{"./_freeGlobal":206,dup:115}],247:[function(t,e,r){arguments[4][116][0].apply(r,arguments)},{dup:116}],248:[function(t,e,r){arguments[4][117][0].apply(r,arguments)},{dup:117}],249:[function(t,e,r){arguments[4][118][0].apply(r,arguments)},{dup:118}],250:[function(t,e,r){arguments[4][119][0].apply(r,arguments)},{"./_ListCache":157,dup:119}],251:[function(t,e,r){arguments[4][120][0].apply(r,arguments)},{dup:120}],252:[function(t,e,r){arguments[4][121][0].apply(r,arguments)},{dup:121}],253:[function(t,e,r){arguments[4][122][0].apply(r,arguments)},{dup:122}],254:[function(t,e,r){arguments[4][123][0].apply(r,arguments)},{"./_ListCache":157,"./_Map":158,"./_MapCache":159,dup:123}],255:[function(t,e,r){e.exports=function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}},{}],256:[function(t,e,r){arguments[4][124][0].apply(r,arguments)},{"./_memoizeCapped":240,dup:124}],257:[function(t,e,r){arguments[4][125][0].apply(r,arguments)},{"./isSymbol":272,dup:125}],258:[function(t,e,r){arguments[4][126][0].apply(r,arguments)},{dup:126}],259:[function(t,e,r){arguments[4][128][0].apply(r,arguments)},{dup:128}],260:[function(t,e,r){var n=t("./_baseFlatten");e.exports=function(t){return null!=t&&t.length?n(t,1):[]}},{"./_baseFlatten":176}],261:[function(t,e,r){arguments[4][130][0].apply(r,arguments)},{"./_baseGet":177,dup:130}],262:[function(t,e,r){arguments[4][131][0].apply(r,arguments)},{"./_baseHasIn":180,"./_hasPath":215,dup:131}],263:[function(t,e,r){arguments[4][132][0].apply(r,arguments)},{dup:132}],264:[function(t,e,r){arguments[4][133][0].apply(r,arguments)},{"./_baseIsArguments":182,"./isObjectLike":271,dup:133}],265:[function(t,e,r){arguments[4][134][0].apply(r,arguments)},{dup:134}],266:[function(t,e,r){arguments[4][135][0].apply(r,arguments)},{"./isFunction":268,"./isLength":269,dup:135}],267:[function(t,e,r){arguments[4][136][0].apply(r,arguments)},{"./_root":246,"./stubFalse":279,dup:136}],268:[function(t,e,r){arguments[4][138][0].apply(r,arguments)},{"./_baseGetTag":179,"./isObject":270,dup:138}],269:[function(t,e,r){arguments[4][139][0].apply(r,arguments)},{dup:139}],270:[function(t,e,r){arguments[4][140][0].apply(r,arguments)},{dup:140}],271:[function(t,e,r){arguments[4][141][0].apply(r,arguments)},{dup:141}],272:[function(t,e,r){arguments[4][142][0].apply(r,arguments)},{"./_baseGetTag":179,"./isObjectLike":271,dup:142}],273:[function(t,e,r){arguments[4][143][0].apply(r,arguments)},{"./_baseIsTypedArray":188,"./_baseUnary":197,"./_nodeUtil":243,dup:143}],274:[function(t,e,r){arguments[4][144][0].apply(r,arguments)},{"./_arrayLikeKeys":170,"./_baseKeys":190,"./isArrayLike":266,dup:144}],275:[function(t,e,r){arguments[4][146][0].apply(r,arguments)},{"./_MapCache":159,dup:146}],276:[function(t,e,r){e.exports=function(){}},{}],277:[function(t,e,r){arguments[4][147][0].apply(r,arguments)},{"./_baseProperty":193,"./_basePropertyDeep":194,"./_isKey":223,"./_toKey":257,dup:147}],278:[function(t,e,r){arguments[4][148][0].apply(r,arguments)},{dup:148}],279:[function(t,e,r){arguments[4][149][0].apply(r,arguments)},{dup:149}],280:[function(t,e,r){arguments[4][153][0].apply(r,arguments)},{"./_baseToString":196,dup:153}],281:[function(t,e,r){var n=t("./_baseIteratee"),o=t("./_baseUniq");e.exports=function(t,e){return t&&t.length?o(t,n(e,2)):[]}},{"./_baseIteratee":189,"./_baseUniq":198}],282:[function(t,e,r){r.parse=function(t){var e,r,n,o,a={};return e={beginSequence:function(t){var e="sequences";r||(r=a,e="gameTrees"),r.gameTrees&&(e="gameTrees");var n={parent:r};return r[e]=r[e]||[],r[e].push(n),r=n,t.substring(1)},endSequence:function(t){return r=r.parent?r.parent:null,t.substring(1)},node:function(t){return n={},r.nodes=r.nodes||[],r.nodes.push(n),t.substring(1)},property:function(t){var e,r=t.match(/([^\\\]]|\\(.|\n|\r))*\]/);if(!r.length)throw new Error("malformed sgf");r=r[0].length;var a=t.substring(0,r),i=a.indexOf("["),s=a.substring(0,i);return s||(s=o,Array.isArray(n[s])||(n[s]=[n[s]])),o=s,e=a.substring(i+1,a.length-1),s.length>2&&console.warn("SGF PropIdents should be no longer than two characters:",s),Array.isArray(n[s])?n[s].push(e):n[s]=e,t.substring(r)},unrecognized:function(t){return t.substring(1)}},function(t){for(;t;){var r,n=t.substring(0,1);r="("===n?"beginSequence":")"===n?"endSequence":";"===n?"node":-1!==n.search(/[A-Z\[]/)?"property":"unrecognized",t=e[r](t)}return a}(t)},r.generate=function(t){function e(t){var r="";return t.forEach(function(t){r+="(",t.nodes&&t.nodes.forEach(function(t){var e=";";for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];Array.isArray(o)&&(o=o.join("][")),e+=n+"["+o+"]"}r+=e}),t.sequences&&(r+=e(t.sequences)),r+=")"}),r}return e(t.gameTrees)}},{}],283:[function(t,e,r){e.exports=function(t){var e,r,n=function(){this.init()};return n.prototype={init:function(){t&&(this.game=t.gameTrees[0],this.reset())},load:function(e){t=e,this.init()},games:function(){return t.gameTrees},selectGame:function(e){if(!(e<t.gameTrees.length))throw new Error("the collection doesn't contain that many games");return this.game=t.gameTrees[e],this.reset(),this},reset:function(){return e=this.game,r=e.nodes[0],this.path={m:0},this},getSmartgame:function(){return t},variations:function(){if(e){var t=e.nodes,n=t?t.indexOf(r):null;if(t)return n===t.length-1?e.sequences||[]:[]}},next:function(t){t=t||0;var n=e.nodes,o=n?n.indexOf(r):null;if(null===o||o>=n.length-1){if(!e.sequences)return this;e=e.sequences[t]?e.sequences[t]:e.sequences[0],r=e.nodes[0],this.path[this.path.m]=t,this.path.m+=1}else r=n[o+1],this.path.m+=1;return this},previous:function(){var t=e.nodes,n=t?t.indexOf(r):null;if(delete this.path[this.path.m],n&&0!==n)r=t[n-1],this.path.m-=1;else{if(!e.parent||e.parent.gameTrees)return this;(e=e.parent).nodes?(r=e.nodes[e.nodes.length-1],this.path.m-=1):r=null}return this},last:function(){for(var t=this.totalMoves();this.path.m<t;)this.next();return this},first:function(){return this.reset(),this},goTo:function(t){"string"==typeof t?t=this.pathTransform(t,"object"):"number"==typeof t&&(t={m:t}),this.reset();for(var e=r,n=0;n<t.m&&e;n+=1){var o=t[n+1]||0;e=this.next(o)}return this},getGameInfo:function(){return this.game.nodes[0]},node:function(){return r},totalMoves:function(){for(var t=this.game,e=0;t;)e+=t.nodes.length,t=t.sequences?t.sequences[0]:null;return e-1},comment:function(t){if(void 0===t)return r.C?r.C.replace(/\\([\\:\]])/g,"$1"):"";r.C=t.replace(/[\\:\]]/g,"\\$&")},translateCoordinates:function(t){var e="abcdefghijklmnopqrst",r=[];return r[0]=e.indexOf(t.substring(0,1)),r[1]=e.indexOf(t.substring(1,2)),r},pathTransform:function(t,e,r){function n(t){if("string"==typeof t)return t;if(!t)return"";o=t.m;var e=[];for(var n in t)t.hasOwnProperty(n)&&"m"!==n&&t[n]>0&&(r?e.push(", variation "+t[n]+" at move "+n):e.push("-"+n+":"+t[n]));return o+=e.join("")}var o;return void 0===e&&(e="string"==typeof t?"object":"string"),o="string"===e?n(t):"object"===e?function(t){if("object"===(void 0===t?"undefined":_typeof(t))&&(t=n(t)),!t)return{m:0};var e=t.split("-");return o={m:Number(e.shift())},e.length&&e.forEach(function(t,e){t=t.split(":"),o[Number(t[0])]=parseInt(t[1],10)}),o}(t):void 0}},new n}},{}],284:[function(t,e,r){e.exports=function(e){function r(t,n){return Array.isArray(t[0])||(t=[t]),n?a(t.map(function(t){return r([t])}),function(t){return t[0]+"_"+t[1]}):[i(t[0][0]-e.projectionSettings.offset[0]-s,e.boardDimensions[0]),i(t[0][1]-e.projectionSettings.offset[1]-s,e.boardDimensions[1])]}function n(t){var e=t.wrappedGame,r=t.node,n=t.pending,o=t.currentPath,a=t.tGo,i=e.variations().length;if(i>0){for(var s=1;s<i;s++){var u=Object.assign({},o);u[o.m+1]=s,u.m+=1,void 0!==a?n.push({path:u,tGoData:a.exportData()}):n.push({path:u})}return t.node=e.next().node(),o[o.m+1]=0,o.m+=1,t.node}var c=e.next().node();if(r===c){if(0===n.length)return t.node=null,t.node;var p=n.pop();return void 0!==a&&a.loadData(p.tGoData),t.node=e.goTo(p.path).node(),t.currentPath=p.path,t.node}return o.m+=1,t.node=c,t.node}var o=t("lodash/flatten"),a=t("lodash/uniqBy"),i=function(t,e){return(t%e+e)%e};void 0===(e=e||{}).addPasses&&(e.addPasses=!0),void 0===e.addMarkersForWraparound&&(e.addMarkersForWraparound=!0),e.boardDimensions=e.boardDimensions||[11,11],void 0===e.transformToString&&(e.transformToString=!0),void 0===e.addComments&&(e.addComments=!0),e.projectionSettings=Object.assign({wraparound:4,offset:[0,0]},e.projectionSettings);var s=e.projectionSettings.wraparound,u={},c=function(t){return String.fromCharCode(t<26?t+97:t+39)},p=function(t){var e=t.charCodeAt(0);return e>=97?e-97:e-26},f=function(t){return[p(t.substring(0,1)),p(t.substring(1,2))]};u.coordinateLabels=c,u.translateCoordinates=f,u.options=e,u.projectOnLine=function(t,r){for(var n=e.boardDimensions[r?1:0],o=[],a=Math.ceil(-(s+t)/n);a<=(s+n-1-t)/n;a++)o.push(s+t+a*n);return o},u.inverseProjectOnFlat=r,u.projectOnFlat=function(t){for(var r=u.projectOnLine(t[0]+e.projectionSettings.offset[0]),n=u.projectOnLine(t[1]+e.projectionSettings.offset[1]),o=[],a=0;a<r.length;a++)for(var i=0;i<n.length;i++)o.push([r[a],n[i]]);return o};var l=function(){if(u.markersForWraparound=[],e.addMarkersForWraparound){for(var t=e.boardDimensions[0],r=[],n=1;n<=t;n++)r.push(c(s-1)+c(s-1+n)+":│"),r.push(c(s+t)+c(s-1+n)+":│"),r.push(c(s-1+n)+c(s-1)+":─"),r.push(c(s-1+n)+c(s+t)+":─");r.push(c(s-1)+c(s+t)+":└"),r.push(c(s+t)+c(s+t)+":┘"),r.push(c(s-1)+c(s-1)+":┌"),r.push(c(s+t)+c(s-1)+":┐"),u.markersForWraparound=r}};return l(),u.coords2String=function(t){return c(t[0])+c(t[1])},u.inverseTransform=function(r,o){void 0===o&&(o=t("smartgame")),"string"==typeof r&&(r=t("smartgamer")(o.parse(r)));var i=r.first().node(),s=/^[a-zA-Z :0-9\-\(\r\n]+GoVariantsTransformer\)--[\r\n]*/,c=function(){void 0!==i.C&&(i.C=i.C.replace(s,"")),""===i.C&&delete i.C},p=function(){var t=[];void 0!==i.LB&&(t=i.LB,Array.isArray(t)||(t=[t]),t=t.filter(function(t){return!u.markersForWraparound.includes(t)}),t=a(t.map(function(t){return t.split(":",2)}).map(function(t){return[u.coords2String(u.inverseProjectOnFlat(f(t[0]))),t[1]]}),function(t){return t[0]}).map(function(t){return t[0]+":"+t[1]})),i.LB=t,0===i.LB.length&&delete i.LB};p(),i.SZ=e.boardDimensions[0],i.AP="go-variants-transformer";var l={wrappedGame:r,node:i,pending:[],currentPath:{m:0}};for(i=n(l);null!==i;){var _=void 0!==i.B||void 0!==i.AB,y=_?i.AB:i.AW;if(void 0===y&&(y=_?i.B:i.W),p(),c(),!Array.isArray(y)){if(void 0===y||""===y){i=n(l);continue}y=[y]}var d=u.coords2String(u.inverseProjectOnFlat(y.map(f)));delete i[_?"AB":"AW"],delete i.CR,delete i.AE,i[_?"B":"W"]=d,["DD","MA","SL","SQ","TR"].forEach(function(t){if(void 0!==i[t]){var e=[];e=Array.isArray(i[t])?i[t]:[i[t]],e=u.inverseProjectOnFlat(e.map(f),!0).map(u.coords2String),i[t]=e}}),i=n(l)}return e.transformToString?o.generate({gameTrees:[r.game]}):r},u.transform=function(r,a,i,s){function c(t,r){if(e.addComments){var n="move "+d.m+"\nWhite stones captured by Black: "+a.board.captured[1]+"\nBlack stones captured by White: "+a.board.captured[0];t&&(n+="\n"+(r?"Black passes":"White passes")),n+="\n--(the content above was generated automatically by GoVariantsTransformer)--",n+=void 0===_.C?"":"\n"+_.C,_.C=n}}void 0===a&&(a=t("go-variants-engine")({boardDimensions:e.boardDimensions})),void 0===i&&(i=t("smartgame")),void 0===s&&(s=t("smartgamer"));var p=s(i.parse(r)),_=p.node(),y=0,d={m:0};if(void 0!==_.SZ){var b=Number(_.SZ);e.boardDimensions=[b,b],a.options.boardDimensions=e.boardDimensions,l()}_.SZ=""+(e.boardDimensions[0]+2*e.projectionSettings.wraparound);var h=function(){var t=[];void 0!==_.LB&&function(){t=_.LB,Array.isArray(t)||(t=[t]);var e=t.map(function(t){return t.split(":",2)}).map(function(t){return[f(t[0]),t[1]]}).map(function(t){return[u.projectOnFlat(t[0]),t[1]]});t=[];for(var r=function(r){t=t.concat(e[r][0].map(function(t){return u.coords2String(t)+":"+e[r][1]}))},n=0;n<e.length;n++)r(n)}(),_.LB=u.markersForWraparound.concat(t),0===_.LB.length&&delete _.LB};h(),void 0!==_.SO&&(_.SO=p.game.nodes[0].SO+" (source sgf for toroidal Go has been adapted by go-variants-transformer so as to be rendered by any standard Go application)"),_.AP="go-variants-transformer";var v={wrappedGame:p,node:_,pending:[],currentPath:d,tGo:a};for(_=n(v);null!==_;){var g=void 0!==_.B,m=g?_.B:_.W,x=""===m||e.boardDimensions[0]===e.boardDimensions[1]&&e.boardDimensions[0]<=19&&"tt"===m;if(void 0!==m)if(h(),x){if(delete _[g?"B":"W"],c(x,g),_[g?"AB":"AW"]=[],++y>=1e3)break;_=n(v)}else{var j=f(m),A=null;try{A=a.play(g?"b":"w",j)}catch(t){if("point is not empty"!==t.message)throw t}var S=u.projectOnFlat(j),O=null===A?[]:S.map(u.coords2String),C=null===A?[]:o(o(A.removed).map(u.projectOnFlat)).map(u.coords2String);e.addPasses?_[g?"B":"W"]="":delete _[g?"B":"W"],_[g?"AB":"AW"]=O,O.length>0&&(_.CR=O),C.length>0&&(_.AE=C),c(x,g),["DD","MA","SL","SQ","TR"].forEach(function(t){if(void 0!==_[t]){var e=[];e=Array.isArray(_[t])?_[t]:[_[t]],e=o(e.map(f).map(u.projectOnFlat)).map(u.coords2String),_[t]=e}}),_.MN=d.m,_=n(v)}else _=n(v)}return e.transformToString?i.generate({gameTrees:[p.game]}):p},u}},{"go-variants-engine":154,"lodash/flatten":260,"lodash/uniqBy":281,smartgame:282,smartgamer:283}]},{},[284])(284)});
//# sourceMappingURL=transformer.min.js.map
