"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).go_variants_transformer=e()}}(function(){return function e(t,n,r){function o(i,s){if(!n[i]){if(!t[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[i]={exports:{}};t[i][0].call(p.exports,function(e){var n=t[i][1][e];return o(n||e)},p,p.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"DataView");t.exports=r},{"./_getNative":74,"./_root":115}],2:[function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=e("./_hashClear"),a=e("./_hashDelete"),i=e("./_hashGet"),s=e("./_hashHas"),u=e("./_hashSet");r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=i,r.prototype.has=s,r.prototype.set=u,t.exports=r},{"./_hashClear":82,"./_hashDelete":83,"./_hashGet":84,"./_hashHas":85,"./_hashSet":86}],3:[function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=e("./_listCacheClear"),a=e("./_listCacheDelete"),i=e("./_listCacheGet"),s=e("./_listCacheHas"),u=e("./_listCacheSet");r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=i,r.prototype.has=s,r.prototype.set=u,t.exports=r},{"./_listCacheClear":96,"./_listCacheDelete":97,"./_listCacheGet":98,"./_listCacheHas":99,"./_listCacheSet":100}],4:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"Map");t.exports=r},{"./_getNative":74,"./_root":115}],5:[function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=e("./_mapCacheClear"),a=e("./_mapCacheDelete"),i=e("./_mapCacheGet"),s=e("./_mapCacheHas"),u=e("./_mapCacheSet");r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=i,r.prototype.has=s,r.prototype.set=u,t.exports=r},{"./_mapCacheClear":101,"./_mapCacheDelete":102,"./_mapCacheGet":103,"./_mapCacheHas":104,"./_mapCacheSet":105}],6:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"Promise");t.exports=r},{"./_getNative":74,"./_root":115}],7:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"Set");t.exports=r},{"./_getNative":74,"./_root":115}],8:[function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new o;++t<n;)this.add(e[t])}var o=e("./_MapCache"),a=e("./_setCacheAdd"),i=e("./_setCacheHas");r.prototype.add=r.prototype.push=a,r.prototype.has=i,t.exports=r},{"./_MapCache":5,"./_setCacheAdd":116,"./_setCacheHas":117}],9:[function(e,t,n){function r(e){var t=this.__data__=new o(e);this.size=t.size}var o=e("./_ListCache"),a=e("./_stackClear"),i=e("./_stackDelete"),s=e("./_stackGet"),u=e("./_stackHas"),c=e("./_stackSet");r.prototype.clear=a,r.prototype.delete=i,r.prototype.get=s,r.prototype.has=u,r.prototype.set=c,t.exports=r},{"./_ListCache":3,"./_stackClear":119,"./_stackDelete":120,"./_stackGet":121,"./_stackHas":122,"./_stackSet":123}],10:[function(e,t,n){var r=e("./_root").Symbol;t.exports=r},{"./_root":115}],11:[function(e,t,n){var r=e("./_root").Uint8Array;t.exports=r},{"./_root":115}],12:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"WeakMap");t.exports=r},{"./_getNative":74,"./_root":115}],13:[function(e,t,n){t.exports=function(e,t){return e.set(t[0],t[1]),e}},{}],14:[function(e,t,n){t.exports=function(e,t){return e.add(t),e}},{}],15:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},{}],16:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}},{}],17:[function(e,t,n){var r=e("./_baseTimes"),o=e("./isArguments"),a=e("./isArray"),i=e("./isBuffer"),s=e("./_isIndex"),u=e("./isTypedArray"),c=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n=a(e),p=!n&&o(e),f=!n&&!p&&i(e),l=!n&&!p&&!f&&u(e),_=n||p||f||l,d=_?r(e.length,String):[],y=d.length;for(var b in e)!t&&!c.call(e,b)||_&&("length"==b||f&&("offset"==b||"parent"==b)||l&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||s(b,y))||d.push(b);return d}},{"./_baseTimes":47,"./_isIndex":90,"./isArguments":133,"./isArray":134,"./isBuffer":136,"./isTypedArray":143}],18:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},{}],19:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},{}],20:[function(e,t,n){t.exports=function(e,t,n,r){var o=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++o]);++o<a;)n=t(n,e[o],o,e);return n}},{}],21:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},{}],22:[function(e,t,n){var r=e("./_baseAssignValue"),o=e("./eq"),a=Object.prototype.hasOwnProperty;t.exports=function(e,t,n){var i=e[t];a.call(e,t)&&o(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},{"./_baseAssignValue":26,"./eq":128}],23:[function(e,t,n){var r=e("./eq");t.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},{"./eq":128}],24:[function(e,t,n){var r=e("./_copyObject"),o=e("./keys");t.exports=function(e,t){return e&&r(t,o(t),e)}},{"./_copyObject":61,"./keys":144}],25:[function(e,t,n){var r=e("./_copyObject"),o=e("./keysIn");t.exports=function(e,t){return e&&r(t,o(t),e)}},{"./_copyObject":61,"./keysIn":145}],26:[function(e,t,n){var r=e("./_defineProperty");t.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},{"./_defineProperty":65}],27:[function(e,t,n){function r(e,t,n,D,P,M){var L,B=t&S,G=t&A,q=t&O;if(n&&(L=P?n(e,D,P,M):n(e)),void 0!==L)return L;if(!x(e))return e;var E=g(e);if(E){if(L=b(e),!B)return p(e,L)}else{var K=y(e),F=K==w||K==k;if(m(e))return c(e,B);if(K==T||K==C||F&&!P){if(L=G||F?{}:v(e),!B)return G?l(e,u(L,e)):f(e,s(L,e))}else{if(!I[K])return P?e:{};L=h(e,K,r,B)}}M||(M=new o);var N=M.get(e);if(N)return N;M.set(e,L);var z=q?G?d:_:G?keysIn:j,W=E?void 0:z(e);return a(W||e,function(o,a){W&&(o=e[a=o]),i(L,a,r(o,t,n,a,e,M))}),L}var o=e("./_Stack"),a=e("./_arrayEach"),i=e("./_assignValue"),s=e("./_baseAssign"),u=e("./_baseAssignIn"),c=e("./_cloneBuffer"),p=e("./_copyArray"),f=e("./_copySymbols"),l=e("./_copySymbolsIn"),_=e("./_getAllKeys"),d=e("./_getAllKeysIn"),y=e("./_getTag"),b=e("./_initCloneArray"),h=e("./_initCloneByTag"),v=e("./_initCloneObject"),g=e("./isArray"),m=e("./isBuffer"),x=e("./isObject"),j=e("./keys"),S=1,A=2,O=4,C="[object Arguments]",w="[object Function]",k="[object GeneratorFunction]",T="[object Object]",I={};I[C]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[T]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[w]=I["[object WeakMap]"]=!1,t.exports=r},{"./_Stack":9,"./_arrayEach":15,"./_assignValue":22,"./_baseAssign":24,"./_baseAssignIn":25,"./_cloneBuffer":53,"./_copyArray":60,"./_copySymbols":62,"./_copySymbolsIn":63,"./_getAllKeys":70,"./_getAllKeysIn":71,"./_getTag":79,"./_initCloneArray":87,"./_initCloneByTag":88,"./_initCloneObject":89,"./isArray":134,"./isBuffer":136,"./isObject":140,"./keys":144}],28:[function(e,t,n){var r=e("./isObject"),o=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();t.exports=a},{"./isObject":140}],29:[function(e,t,n){t.exports=function(e,t,n,r){for(var o=e.length,a=n+(r?1:-1);r?a--:++a<o;)if(t(e[a],a,e))return a;return-1}},{}],30:[function(e,t,n){var r=e("./_castPath"),o=e("./_toKey");t.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[o(t[n++])];return n&&n==a?e:void 0}},{"./_castPath":51,"./_toKey":125}],31:[function(e,t,n){var r=e("./_arrayPush"),o=e("./isArray");t.exports=function(e,t,n){var a=t(e);return o(e)?a:r(a,n(e))}},{"./_arrayPush":19,"./isArray":134}],32:[function(e,t,n){var r=e("./_Symbol"),o=e("./_getRawTag"),a=e("./_objectToString"),i="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?s:i:u&&u in Object(e)?o(e):a(e)}},{"./_Symbol":10,"./_getRawTag":76,"./_objectToString":113}],33:[function(e,t,n){t.exports=function(e,t){return null!=e&&t in Object(e)}},{}],34:[function(e,t,n){var r=e("./_baseGetTag"),o=e("./isObjectLike"),a="[object Arguments]";t.exports=function(e){return o(e)&&r(e)==a}},{"./_baseGetTag":32,"./isObjectLike":141}],35:[function(e,t,n){function r(e,t,n,i,s){return e===t||(null==e||null==t||!a(e)&&!a(t)?e!=e&&t!=t:o(e,t,n,i,r,s))}var o=e("./_baseIsEqualDeep"),a=e("./isObjectLike");t.exports=r},{"./_baseIsEqualDeep":36,"./isObjectLike":141}],36:[function(e,t,n){var r=e("./_Stack"),o=e("./_equalArrays"),a=e("./_equalByTag"),i=e("./_equalObjects"),s=e("./_getTag"),u=e("./isArray"),c=e("./isBuffer"),p=e("./isTypedArray"),f=1,l="[object Arguments]",_="[object Array]",d="[object Object]",y=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,b,h,v){var g=u(e),m=u(t),x=g?_:s(e),j=m?_:s(t),S=(x=x==l?d:x)==d,A=(j=j==l?d:j)==d,O=x==j;if(O&&c(e)){if(!c(t))return!1;g=!0,S=!1}if(O&&!S)return v||(v=new r),g||p(e)?o(e,t,n,b,h,v):a(e,t,x,n,b,h,v);if(!(n&f)){var C=S&&y.call(e,"__wrapped__"),w=A&&y.call(t,"__wrapped__");if(C||w){var k=C?e.value():e,T=w?t.value():t;return v||(v=new r),h(k,T,n,b,v)}}return!!O&&(v||(v=new r),i(e,t,n,b,h,v))}},{"./_Stack":9,"./_equalArrays":66,"./_equalByTag":67,"./_equalObjects":68,"./_getTag":79,"./isArray":134,"./isBuffer":136,"./isTypedArray":143}],37:[function(e,t,n){var r=e("./_Stack"),o=e("./_baseIsEqual"),a=1,i=2;t.exports=function(e,t,n,s){var u=n.length,c=u,p=!s;if(null==e)return!c;for(e=Object(e);u--;){var f=n[u];if(p&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++u<c;){var l=(f=n[u])[0],_=e[l],d=f[1];if(p&&f[2]){if(void 0===_&&!(l in e))return!1}else{var y=new r;if(s)var b=s(_,d,l,e,t,y);if(!(void 0===b?o(d,_,a|i,s,y):b))return!1}}return!0}},{"./_Stack":9,"./_baseIsEqual":35}],38:[function(e,t,n){var r=e("./isFunction"),o=e("./_isMasked"),a=e("./isObject"),i=e("./_toSource"),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,p=u.toString,f=c.hasOwnProperty,l=RegExp("^"+p.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return!(!a(e)||o(e))&&(r(e)?l:s).test(i(e))}},{"./_isMasked":93,"./_toSource":126,"./isFunction":138,"./isObject":140}],39:[function(e,t,n){var r=e("./_baseGetTag"),o=e("./isLength"),a=e("./isObjectLike"),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t.exports=function(e){return a(e)&&o(e.length)&&!!i[r(e)]}},{"./_baseGetTag":32,"./isLength":139,"./isObjectLike":141}],40:[function(e,t,n){var r=e("./_baseMatches"),o=e("./_baseMatchesProperty"),a=e("./identity"),i=e("./isArray"),s=e("./property");t.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==(void 0===e?"undefined":_typeof(e))?i(e)?o(e[0],e[1]):r(e):s(e)}},{"./_baseMatches":43,"./_baseMatchesProperty":44,"./identity":132,"./isArray":134,"./property":147}],41:[function(e,t,n){var r=e("./_isPrototype"),o=e("./_nativeKeys"),a=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},{"./_isPrototype":94,"./_nativeKeys":110}],42:[function(e,t,n){var r=e("./isObject"),o=e("./_isPrototype"),a=e("./_nativeKeysIn"),i=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return a(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&i.call(e,s))&&n.push(s);return n}},{"./_isPrototype":94,"./_nativeKeysIn":111,"./isObject":140}],43:[function(e,t,n){var r=e("./_baseIsMatch"),o=e("./_getMatchData"),a=e("./_matchesStrictComparable");t.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},{"./_baseIsMatch":37,"./_getMatchData":73,"./_matchesStrictComparable":107}],44:[function(e,t,n){var r=e("./_baseIsEqual"),o=e("./get"),a=e("./hasIn"),i=e("./_isKey"),s=e("./_isStrictComparable"),u=e("./_matchesStrictComparable"),c=e("./_toKey"),p=1,f=2;t.exports=function(e,t){return i(e)&&s(t)?u(c(e),t):function(n){var i=o(n,e);return void 0===i&&i===t?a(n,e):r(t,i,p|f)}}},{"./_baseIsEqual":35,"./_isKey":91,"./_isStrictComparable":95,"./_matchesStrictComparable":107,"./_toKey":125,"./get":130,"./hasIn":131}],45:[function(e,t,n){t.exports=function(e){return function(t){return null==t?void 0:t[e]}}},{}],46:[function(e,t,n){var r=e("./_baseGet");t.exports=function(e){return function(t){return r(t,e)}}},{"./_baseGet":30}],47:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},{}],48:[function(e,t,n){function r(e){if("string"==typeof e)return e;if(i(e))return a(e,r)+"";if(s(e))return p?p.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}var o=e("./_Symbol"),a=e("./_arrayMap"),i=e("./isArray"),s=e("./isSymbol"),u=1/0,c=o?o.prototype:void 0,p=c?c.toString:void 0;t.exports=r},{"./_Symbol":10,"./_arrayMap":18,"./isArray":134,"./isSymbol":142}],49:[function(e,t,n){t.exports=function(e){return function(t){return e(t)}}},{}],50:[function(e,t,n){t.exports=function(e,t){return e.has(t)}},{}],51:[function(e,t,n){var r=e("./isArray"),o=e("./_isKey"),a=e("./_stringToPath"),i=e("./toString");t.exports=function(e,t){return r(e)?e:o(e,t)?[e]:a(i(e))}},{"./_isKey":91,"./_stringToPath":124,"./isArray":134,"./toString":153}],52:[function(e,t,n){var r=e("./_Uint8Array");t.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},{"./_Uint8Array":11}],53:[function(e,t,n){var r=e("./_root"),o="object"==(void 0===n?"undefined":_typeof(n))&&n&&!n.nodeType&&n,a=o&&"object"==(void 0===t?"undefined":_typeof(t))&&t&&!t.nodeType&&t,i=a&&a.exports===o?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;t.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},{"./_root":115}],54:[function(e,t,n){var r=e("./_cloneArrayBuffer");t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},{"./_cloneArrayBuffer":52}],55:[function(e,t,n){var r=e("./_addMapEntry"),o=e("./_arrayReduce"),a=e("./_mapToArray"),i=1;t.exports=function(e,t,n){var s=t?n(a(e),i):a(e);return o(s,r,new e.constructor)}},{"./_addMapEntry":13,"./_arrayReduce":20,"./_mapToArray":106}],56:[function(e,t,n){var r=/\w*$/;t.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}},{}],57:[function(e,t,n){var r=e("./_addSetEntry"),o=e("./_arrayReduce"),a=e("./_setToArray"),i=1;t.exports=function(e,t,n){var s=t?n(a(e),i):a(e);return o(s,r,new e.constructor)}},{"./_addSetEntry":14,"./_arrayReduce":20,"./_setToArray":118}],58:[function(e,t,n){var r=e("./_Symbol"),o=r?r.prototype:void 0,a=o?o.valueOf:void 0;t.exports=function(e){return a?Object(a.call(e)):{}}},{"./_Symbol":10}],59:[function(e,t,n){var r=e("./_cloneArrayBuffer");t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},{"./_cloneArrayBuffer":52}],60:[function(e,t,n){t.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},{}],61:[function(e,t,n){var r=e("./_assignValue"),o=e("./_baseAssignValue");t.exports=function(e,t,n,a){var i=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],p=a?a(n[c],e[c],c,n,e):void 0;void 0===p&&(p=e[c]),i?o(n,c,p):r(n,c,p)}return n}},{"./_assignValue":22,"./_baseAssignValue":26}],62:[function(e,t,n){var r=e("./_copyObject"),o=e("./_getSymbols");t.exports=function(e,t){return r(e,o(e),t)}},{"./_copyObject":61,"./_getSymbols":77}],63:[function(e,t,n){var r=e("./_copyObject"),o=e("./_getSymbolsIn");t.exports=function(e,t){return r(e,o(e),t)}},{"./_copyObject":61,"./_getSymbolsIn":78}],64:[function(e,t,n){var r=e("./_root")["__core-js_shared__"];t.exports=r},{"./_root":115}],65:[function(e,t,n){var r=e("./_getNative"),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.exports=o},{"./_getNative":74}],66:[function(e,t,n){var r=e("./_SetCache"),o=e("./_arraySome"),a=e("./_cacheHas"),i=1,s=2;t.exports=function(e,t,n,u,c,p){var f=n&i,l=e.length,_=t.length;if(l!=_&&!(f&&_>l))return!1;var d=p.get(e);if(d&&p.get(t))return d==t;var y=-1,b=!0,h=n&s?new r:void 0;for(p.set(e,t),p.set(t,e);++y<l;){var v=e[y],g=t[y];if(u)var m=f?u(g,v,y,t,e,p):u(v,g,y,e,t,p);if(void 0!==m){if(m)continue;b=!1;break}if(h){if(!o(t,function(e,t){if(!a(h,t)&&(v===e||c(v,e,n,u,p)))return h.push(t)})){b=!1;break}}else if(v!==g&&!c(v,g,n,u,p)){b=!1;break}}return p.delete(e),p.delete(t),b}},{"./_SetCache":8,"./_arraySome":21,"./_cacheHas":50}],67:[function(e,t,n){var r=e("./_Symbol"),o=e("./_Uint8Array"),a=e("./eq"),i=e("./_equalArrays"),s=e("./_mapToArray"),u=e("./_setToArray"),c=1,p=2,f="[object Boolean]",l="[object Date]",_="[object Error]",d="[object Map]",y="[object Number]",b="[object RegExp]",h="[object Set]",v="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",x="[object DataView]",j=r?r.prototype:void 0,S=j?j.valueOf:void 0;t.exports=function(e,t,n,r,j,A,O){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case m:return!(e.byteLength!=t.byteLength||!A(new o(e),new o(t)));case f:case l:case y:return a(+e,+t);case _:return e.name==t.name&&e.message==t.message;case b:case v:return e==t+"";case d:var C=s;case h:var w=r&c;if(C||(C=u),e.size!=t.size&&!w)return!1;var k=O.get(e);if(k)return k==t;r|=p,O.set(e,t);var T=i(C(e),C(t),r,j,A,O);return O.delete(e),T;case g:if(S)return S.call(e)==S.call(t)}return!1}},{"./_Symbol":10,"./_Uint8Array":11,"./_equalArrays":66,"./_mapToArray":106,"./_setToArray":118,"./eq":128}],68:[function(e,t,n){var r=e("./_getAllKeys"),o=1,a=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,i,s,u){var c=n&o,p=r(e),f=p.length;if(f!=r(t).length&&!c)return!1;for(var l=f;l--;){var _=p[l];if(!(c?_ in t:a.call(t,_)))return!1}var d=u.get(e);if(d&&u.get(t))return d==t;var y=!0;u.set(e,t),u.set(t,e);for(var b=c;++l<f;){var h=e[_=p[l]],v=t[_];if(i)var g=c?i(v,h,_,t,e,u):i(h,v,_,e,t,u);if(!(void 0===g?h===v||s(h,v,n,i,u):g)){y=!1;break}b||(b="constructor"==_)}if(y&&!b){var m=e.constructor,x=t.constructor;m!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof x&&x instanceof x)&&(y=!1)}return u.delete(e),u.delete(t),y}},{"./_getAllKeys":70}],69:[function(e,t,n){(function(e){var n="object"==(void 0===e?"undefined":_typeof(e))&&e&&e.Object===Object&&e;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],70:[function(e,t,n){var r=e("./_baseGetAllKeys"),o=e("./_getSymbols"),a=e("./keys");t.exports=function(e){return r(e,a,o)}},{"./_baseGetAllKeys":31,"./_getSymbols":77,"./keys":144}],71:[function(e,t,n){var r=e("./_baseGetAllKeys"),o=e("./_getSymbolsIn"),a=e("./keysIn");t.exports=function(e){return r(e,a,o)}},{"./_baseGetAllKeys":31,"./_getSymbolsIn":78,"./keysIn":145}],72:[function(e,t,n){var r=e("./_isKeyable");t.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},{"./_isKeyable":92}],73:[function(e,t,n){var r=e("./_isStrictComparable"),o=e("./keys");t.exports=function(e){for(var t=o(e),n=t.length;n--;){var a=t[n],i=e[a];t[n]=[a,i,r(i)]}return t}},{"./_isStrictComparable":95,"./keys":144}],74:[function(e,t,n){var r=e("./_baseIsNative"),o=e("./_getValue");t.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},{"./_baseIsNative":38,"./_getValue":80}],75:[function(e,t,n){var r=e("./_overArg")(Object.getPrototypeOf,Object);t.exports=r},{"./_overArg":114}],76:[function(e,t,n){var r=e("./_Symbol"),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=r?r.toStringTag:void 0;t.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=i.call(e);return r&&(t?e[s]=n:delete e[s]),o}},{"./_Symbol":10}],77:[function(e,t,n){var r=e("./_arrayFilter"),o=e("./stubArray"),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),r(i(e),function(t){return a.call(e,t)}))}:o;t.exports=s},{"./_arrayFilter":16,"./stubArray":148}],78:[function(e,t,n){var r=e("./_arrayPush"),o=e("./_getPrototype"),a=e("./_getSymbols"),i=e("./stubArray"),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=o(e);return t}:i;t.exports=s},{"./_arrayPush":19,"./_getPrototype":75,"./_getSymbols":77,"./stubArray":148}],79:[function(e,t,n){var r=e("./_DataView"),o=e("./_Map"),a=e("./_Promise"),i=e("./_Set"),s=e("./_WeakMap"),u=e("./_baseGetTag"),c=e("./_toSource"),p="[object Promise]",f="[object WeakMap]",l="[object DataView]",_=c(r),d=c(o),y=c(a),b=c(i),h=c(s),v=u;(r&&v(new r(new ArrayBuffer(1)))!=l||o&&"[object Map]"!=v(new o)||a&&v(a.resolve())!=p||i&&"[object Set]"!=v(new i)||s&&v(new s)!=f)&&(v=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case _:return l;case d:return"[object Map]";case y:return p;case b:return"[object Set]";case h:return f}return t}),t.exports=v},{"./_DataView":1,"./_Map":4,"./_Promise":6,"./_Set":7,"./_WeakMap":12,"./_baseGetTag":32,"./_toSource":126}],80:[function(e,t,n){t.exports=function(e,t){return null==e?void 0:e[t]}},{}],81:[function(e,t,n){var r=e("./_castPath"),o=e("./isArguments"),a=e("./isArray"),i=e("./_isIndex"),s=e("./isLength"),u=e("./_toKey");t.exports=function(e,t,n){for(var c=-1,p=(t=r(t,e)).length,f=!1;++c<p;){var l=u(t[c]);if(!(f=null!=e&&n(e,l)))break;e=e[l]}return f||++c!=p?f:!!(p=null==e?0:e.length)&&s(p)&&i(l,p)&&(a(e)||o(e))}},{"./_castPath":51,"./_isIndex":90,"./_toKey":125,"./isArguments":133,"./isArray":134,"./isLength":139}],82:[function(e,t,n){var r=e("./_nativeCreate");t.exports=function(){this.__data__=r?r(null):{},this.size=0}},{"./_nativeCreate":109}],83:[function(e,t,n){t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},{}],84:[function(e,t,n){var r=e("./_nativeCreate"),o="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return a.call(t,e)?t[e]:void 0}},{"./_nativeCreate":109}],85:[function(e,t,n){var r=e("./_nativeCreate"),o=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},{"./_nativeCreate":109}],86:[function(e,t,n){var r=e("./_nativeCreate"),o="__lodash_hash_undefined__";t.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}},{"./_nativeCreate":109}],87:[function(e,t,n){var r=Object.prototype.hasOwnProperty;t.exports=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},{}],88:[function(e,t,n){var r=e("./_cloneArrayBuffer"),o=e("./_cloneDataView"),a=e("./_cloneMap"),i=e("./_cloneRegExp"),s=e("./_cloneSet"),u=e("./_cloneSymbol"),c=e("./_cloneTypedArray"),p="[object Boolean]",f="[object Date]",l="[object Map]",_="[object Number]",d="[object RegExp]",y="[object Set]",b="[object String]",h="[object Symbol]",v="[object ArrayBuffer]",g="[object DataView]",m="[object Float32Array]",x="[object Float64Array]",j="[object Int8Array]",S="[object Int16Array]",A="[object Int32Array]",O="[object Uint8Array]",C="[object Uint8ClampedArray]",w="[object Uint16Array]",k="[object Uint32Array]";t.exports=function(e,t,n,T){var I=e.constructor;switch(t){case v:return r(e);case p:case f:return new I(+e);case g:return o(e,T);case m:case x:case j:case S:case A:case O:case C:case w:case k:return c(e,T);case l:return a(e,T,n);case _:case b:return new I(e);case d:return i(e);case y:return s(e,T,n);case h:return u(e)}}},{"./_cloneArrayBuffer":52,"./_cloneDataView":54,"./_cloneMap":55,"./_cloneRegExp":56,"./_cloneSet":57,"./_cloneSymbol":58,"./_cloneTypedArray":59}],89:[function(e,t,n){var r=e("./_baseCreate"),o=e("./_getPrototype"),a=e("./_isPrototype");t.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(o(e))}},{"./_baseCreate":28,"./_getPrototype":75,"./_isPrototype":94}],90:[function(e,t,n){var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}},{}],91:[function(e,t,n){var r=e("./isArray"),o=e("./isSymbol"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.exports=function(e,t){if(r(e))return!1;var n=void 0===e?"undefined":_typeof(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||i.test(e)||!a.test(e)||null!=t&&e in Object(t)}},{"./isArray":134,"./isSymbol":142}],92:[function(e,t,n){t.exports=function(e){var t=void 0===e?"undefined":_typeof(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},{}],93:[function(e,t,n){var r=e("./_coreJsData"),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();t.exports=function(e){return!!o&&o in e}},{"./_coreJsData":64}],94:[function(e,t,n){var r=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},{}],95:[function(e,t,n){var r=e("./isObject");t.exports=function(e){return e==e&&!r(e)}},{"./isObject":140}],96:[function(e,t,n){t.exports=function(){this.__data__=[],this.size=0}},{}],97:[function(e,t,n){var r=e("./_assocIndexOf"),o=Array.prototype.splice;t.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},{"./_assocIndexOf":23}],98:[function(e,t,n){var r=e("./_assocIndexOf");t.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},{"./_assocIndexOf":23}],99:[function(e,t,n){var r=e("./_assocIndexOf");t.exports=function(e){return r(this.__data__,e)>-1}},{"./_assocIndexOf":23}],100:[function(e,t,n){var r=e("./_assocIndexOf");t.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},{"./_assocIndexOf":23}],101:[function(e,t,n){var r=e("./_Hash"),o=e("./_ListCache"),a=e("./_Map");t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},{"./_Hash":2,"./_ListCache":3,"./_Map":4}],102:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},{"./_getMapData":72}],103:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e){return r(this,e).get(e)}},{"./_getMapData":72}],104:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e){return r(this,e).has(e)}},{"./_getMapData":72}],105:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},{"./_getMapData":72}],106:[function(e,t,n){t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},{}],107:[function(e,t,n){t.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},{}],108:[function(e,t,n){var r=e("./memoize"),o=500;t.exports=function(e){var t=r(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}},{"./memoize":146}],109:[function(e,t,n){var r=e("./_getNative")(Object,"create");t.exports=r},{"./_getNative":74}],110:[function(e,t,n){var r=e("./_overArg")(Object.keys,Object);t.exports=r},{"./_overArg":114}],111:[function(e,t,n){t.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},{}],112:[function(e,t,n){var r=e("./_freeGlobal"),o="object"==(void 0===n?"undefined":_typeof(n))&&n&&!n.nodeType&&n,a=o&&"object"==(void 0===t?"undefined":_typeof(t))&&t&&!t.nodeType&&t,i=a&&a.exports===o&&r.process,s=function(){try{return i&&i.binding&&i.binding("util")}catch(e){}}();t.exports=s},{"./_freeGlobal":69}],113:[function(e,t,n){var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}},{}],114:[function(e,t,n){t.exports=function(e,t){return function(n){return e(t(n))}}},{}],115:[function(e,t,n){var r=e("./_freeGlobal"),o="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,a=r||o||Function("return this")();t.exports=a},{"./_freeGlobal":69}],116:[function(e,t,n){var r="__lodash_hash_undefined__";t.exports=function(e){return this.__data__.set(e,r),this}},{}],117:[function(e,t,n){t.exports=function(e){return this.__data__.has(e)}},{}],118:[function(e,t,n){t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},{}],119:[function(e,t,n){var r=e("./_ListCache");t.exports=function(){this.__data__=new r,this.size=0}},{"./_ListCache":3}],120:[function(e,t,n){t.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},{}],121:[function(e,t,n){t.exports=function(e){return this.__data__.get(e)}},{}],122:[function(e,t,n){t.exports=function(e){return this.__data__.has(e)}},{}],123:[function(e,t,n){var r=e("./_ListCache"),o=e("./_Map"),a=e("./_MapCache"),i=200;t.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<i-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(s)}return n.set(e,t),this.size=n.size,this}},{"./_ListCache":3,"./_Map":4,"./_MapCache":5}],124:[function(e,t,n){var r=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=e("./_memoizeCapped")(function(e){var t=[];return r.test(e)&&t.push(""),e.replace(o,function(e,n,r,o){t.push(r?o.replace(a,"$1"):n||e)}),t});t.exports=i},{"./_memoizeCapped":108}],125:[function(e,t,n){var r=e("./isSymbol"),o=1/0;t.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}},{"./isSymbol":142}],126:[function(e,t,n){var r=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},{}],127:[function(e,t,n){var r=e("./_baseClone"),o=4;t.exports=function(e){return r(e,o)}},{"./_baseClone":27}],128:[function(e,t,n){t.exports=function(e,t){return e===t||e!=e&&t!=t}},{}],129:[function(e,t,n){var r=e("./_baseFindIndex"),o=e("./_baseIteratee"),a=e("./toInteger"),i=Math.max;t.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var u=null==n?0:a(n);return u<0&&(u=i(s+u,0)),r(e,o(t,3),u)}},{"./_baseFindIndex":29,"./_baseIteratee":40,"./toInteger":151}],130:[function(e,t,n){var r=e("./_baseGet");t.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},{"./_baseGet":30}],131:[function(e,t,n){var r=e("./_baseHasIn"),o=e("./_hasPath");t.exports=function(e,t){return null!=e&&o(e,t,r)}},{"./_baseHasIn":33,"./_hasPath":81}],132:[function(e,t,n){t.exports=function(e){return e}},{}],133:[function(e,t,n){var r=e("./_baseIsArguments"),o=e("./isObjectLike"),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!s.call(e,"callee")};t.exports=u},{"./_baseIsArguments":34,"./isObjectLike":141}],134:[function(e,t,n){var r=Array.isArray;t.exports=r},{}],135:[function(e,t,n){var r=e("./isFunction"),o=e("./isLength");t.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},{"./isFunction":138,"./isLength":139}],136:[function(e,t,n){var r=e("./_root"),o=e("./stubFalse"),a="object"==(void 0===n?"undefined":_typeof(n))&&n&&!n.nodeType&&n,i=a&&"object"==(void 0===t?"undefined":_typeof(t))&&t&&!t.nodeType&&t,s=i&&i.exports===a?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;t.exports=u},{"./_root":115,"./stubFalse":149}],137:[function(e,t,n){var r=e("./_baseIsEqual");t.exports=function(e,t){return r(e,t)}},{"./_baseIsEqual":35}],138:[function(e,t,n){var r=e("./_baseGetTag"),o=e("./isObject"),a="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(e){if(!o(e))return!1;var t=r(e);return t==i||t==s||t==a||t==u}},{"./_baseGetTag":32,"./isObject":140}],139:[function(e,t,n){var r=9007199254740991;t.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},{}],140:[function(e,t,n){t.exports=function(e){var t=void 0===e?"undefined":_typeof(e);return null!=e&&("object"==t||"function"==t)}},{}],141:[function(e,t,n){t.exports=function(e){return null!=e&&"object"==(void 0===e?"undefined":_typeof(e))}},{}],142:[function(e,t,n){var r=e("./_baseGetTag"),o=e("./isObjectLike"),a="[object Symbol]";t.exports=function(e){return"symbol"==(void 0===e?"undefined":_typeof(e))||o(e)&&r(e)==a}},{"./_baseGetTag":32,"./isObjectLike":141}],143:[function(e,t,n){var r=e("./_baseIsTypedArray"),o=e("./_baseUnary"),a=e("./_nodeUtil"),i=a&&a.isTypedArray,s=i?o(i):r;t.exports=s},{"./_baseIsTypedArray":39,"./_baseUnary":49,"./_nodeUtil":112}],144:[function(e,t,n){var r=e("./_arrayLikeKeys"),o=e("./_baseKeys"),a=e("./isArrayLike");t.exports=function(e){return a(e)?r(e):o(e)}},{"./_arrayLikeKeys":17,"./_baseKeys":41,"./isArrayLike":135}],145:[function(e,t,n){var r=e("./_arrayLikeKeys"),o=e("./_baseKeysIn"),a=e("./isArrayLike");t.exports=function(e){return a(e)?r(e,!0):o(e)}},{"./_arrayLikeKeys":17,"./_baseKeysIn":42,"./isArrayLike":135}],146:[function(e,t,n){function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,r);return n.cache=a.set(o,i)||a,i};return n.cache=new(r.Cache||o),n}var o=e("./_MapCache"),a="Expected a function";r.Cache=o,t.exports=r},{"./_MapCache":5}],147:[function(e,t,n){var r=e("./_baseProperty"),o=e("./_basePropertyDeep"),a=e("./_isKey"),i=e("./_toKey");t.exports=function(e){return a(e)?r(i(e)):o(e)}},{"./_baseProperty":45,"./_basePropertyDeep":46,"./_isKey":91,"./_toKey":125}],148:[function(e,t,n){t.exports=function(){return[]}},{}],149:[function(e,t,n){t.exports=function(){return!1}},{}],150:[function(e,t,n){var r=e("./toNumber"),o=1/0,a=1.7976931348623157e308;t.exports=function(e){if(!e)return 0===e?e:0;if((e=r(e))===o||e===-o)return(e<0?-1:1)*a;return e==e?e:0}},{"./toNumber":152}],151:[function(e,t,n){var r=e("./toFinite");t.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},{"./toFinite":150}],152:[function(e,t,n){var r=e("./isObject"),o=e("./isSymbol"),a=NaN,i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,p=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(o(e))return a;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=u.test(e);return n||c.test(e)?p(e.slice(2),n?2:8):s.test(e)?a:+e}},{"./isObject":140,"./isSymbol":142}],153:[function(e,t,n){var r=e("./_baseToString");t.exports=function(e){return null==e?"":r(e)}},{"./_baseToString":48}],154:[function(e,t,n){t.exports=function(t){function n(e,t){return r(e,function(e){return o(e,t)})}var r=e("lodash/findIndex"),o=e("lodash/isEqual"),a=e("lodash/clone"),i={},s=(t=t||{}).rules||{suicide:!0,superko:!1,komi:7.5};return i.options=t,t.boardDimensions=t.boardDimensions||[11,11],t.boardMode=t.boardMode||"t",i.board={},i.board.blackStones=t.blackStones||[],i.board.whiteStones=t.whiteStones||[],i.board.nextPlayer=t.nextPlayer||"b",i.board.captured=t.captured||[0,0],i.exportData=function(){return{blackStones:i.board.blackStones.map(a),whiteStones:i.board.whiteStones.map(a),captured:a(i.board.captured),nextPlayer:i.board.nextPlayer}},i.loadData=function(e){i.board.blackStones=e.blackStones,i.board.whiteStones=e.whiteStones,i.board.captured=e.captured,i.board.nextPlayer=e.nextPlayer},"t"===t.boardMode&&(i.board.getNeighbours=function(e){for(var n=[],r=0;r<4;r++){var o=void 0;switch(r){case 0:o=[e[0]+1,e[1]];break;case 1:o=[e[0]-1,e[1]];break;case 2:o=[e[0],e[1]+1];break;case 3:o=[e[0],e[1]-1]}n.push([(o[0]+t.boardDimensions[0])%t.boardDimensions[0],(o[1]+t.boardDimensions[1])%t.boardDimensions[1]])}return n}),"c"===t.boardMode&&(i.board.getNeighbours=function(e){for(var n=[],r=0;r<4;r++){var o=void 0;switch(r){case 0:o=[e[0]+1,e[1]];break;case 1:o=[e[0]-1,e[1]];break;case 2:o=[e[0],e[1]+1];break;case 3:o=[e[0],e[1]-1]}o[0]>=0&&o[0]<t.boardDimensions[0]&&o[1]>=0&&o[1]<t.boardDimensions[1]&&n.push(o)}return n}),i.board.isEmpty=function(e){return n(i.board.blackStones,e)<0&&n(i.board.whiteStones,e)<0},i.board.getColour=function(e){return n(i.board.blackStones,e)>=0?"b":n(i.board.whiteStones,e)>=0?"w":"e"},i.board.chainHasLiberty=function(e,t,r){void 0===r&&(r="e"),null===t&&(t=i.board.getColour(e));for(var o=[e],a=[],s=e;void 0!==s;){for(var u=i.board.getNeighbours(s),c=0;c<u.length;c++){var p=u[c],f=i.board.getColour(p);if(f===r)return!0;f===t&&n(o,p)<0&&(o.push(p),a.push(p))}s=a.pop()}return o},i.board.getComponent=function(e,t){return{points:[],colour:[],isDead:!1,isBlackTerritory:!1}},i.board.score=function(e){var t={whiteComponents:{},blackComponents:{},emptyComponents:{},totalBlackDead:0,totalWhiteDead:0,totalBlackPrisoners:0,totalWhitePrisoners:0,totalBlackTerritory:0,totalWhiteTerritory:0};t.blackScore=t.totalWhiteDead+t.totalBlackPrisoners+t.totalBlackTerritory,t.whiteScore=t.totalBlackDead+t.totalWhitePrisoners+t.totalWhiteTerritory+komi;var n=t.blackScore-t.whiteScore;return t.RE=0===n?"0":n>0?"B+"+n:"W+"+-n,t},i.board.empty=function(){i.board.whiteStones=[],i.board.blackStones=[],i.board.captured=[0,0]},i.removeChain=function(e,t){for(var r="w"===t?i.board.whiteStones:i.board.blackStones,o=0;o<e.length;o++){var a=n(r,e[o]);r.splice(a,1),"w"===t?i.board.captured[1]=i.board.captured[1]+1:i.board.captured[0]=i.board.captured[0]+1}},i.play=function(e,t){if(!i.board.isEmpty(t))throw new Error("point is not empty");"b"===e?i.board.blackStones.push(t):i.board.whiteStones.push(t);for(var n=i.board.getNeighbours(t),r=[],o=0;o<n.length;o++){var a=n[o],u=i.board.getColour(a);if(u!==e&&"e"!==u){var c=i.getOppositeColour(e),p=i.board.chainHasLiberty(a,c);!0!==p&&(r[r.length]=p,i.removeChain(p,c))}}var f=!1;if(0===r.length){var l=i.board.chainHasLiberty(t,e);if(!0!==l){if(!s.suicide)throw new Error("suicide");i.removeChain(l,e),f=l}}return{removed:r,suicide:f}},i.getOppositeColour=function(e){switch(e){case"b":return"w";case"w":return"b"}return null},i}},{"lodash/clone":127,"lodash/findIndex":129,"lodash/isEqual":137}],155:[function(e,t,n){arguments[4][1][0].apply(n,arguments)},{"./_getNative":210,"./_root":246,dup:1}],156:[function(e,t,n){arguments[4][2][0].apply(n,arguments)},{"./_hashClear":216,"./_hashDelete":217,"./_hashGet":218,"./_hashHas":219,"./_hashSet":220,dup:2}],157:[function(e,t,n){arguments[4][3][0].apply(n,arguments)},{"./_listCacheClear":228,"./_listCacheDelete":229,"./_listCacheGet":230,"./_listCacheHas":231,"./_listCacheSet":232,dup:3}],158:[function(e,t,n){arguments[4][4][0].apply(n,arguments)},{"./_getNative":210,"./_root":246,dup:4}],159:[function(e,t,n){arguments[4][5][0].apply(n,arguments)},{"./_mapCacheClear":233,"./_mapCacheDelete":234,"./_mapCacheGet":235,"./_mapCacheHas":236,"./_mapCacheSet":237,dup:5}],160:[function(e,t,n){arguments[4][6][0].apply(n,arguments)},{"./_getNative":210,"./_root":246,dup:6}],161:[function(e,t,n){arguments[4][7][0].apply(n,arguments)},{"./_getNative":210,"./_root":246,dup:7}],162:[function(e,t,n){arguments[4][8][0].apply(n,arguments)},{"./_MapCache":159,"./_setCacheAdd":247,"./_setCacheHas":248,dup:8}],163:[function(e,t,n){arguments[4][9][0].apply(n,arguments)},{"./_ListCache":157,"./_stackClear":250,"./_stackDelete":251,"./_stackGet":252,"./_stackHas":253,"./_stackSet":254,dup:9}],164:[function(e,t,n){arguments[4][10][0].apply(n,arguments)},{"./_root":246,dup:10}],165:[function(e,t,n){arguments[4][11][0].apply(n,arguments)},{"./_root":246,dup:11}],166:[function(e,t,n){arguments[4][12][0].apply(n,arguments)},{"./_getNative":210,"./_root":246,dup:12}],167:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],168:[function(e,t,n){var r=e("./_baseIndexOf");t.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},{"./_baseIndexOf":181}],169:[function(e,t,n){t.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},{}],170:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{"./_baseTimes":195,"./_isIndex":222,"./isArguments":265,"./isArray":266,"./isBuffer":268,"./isTypedArray":274,dup:17}],171:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],172:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],173:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{dup:21}],174:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{"./eq":259,dup:23}],175:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{dup:29}],176:[function(e,t,n){function r(e,t,n,i,s){var u=-1,c=e.length;for(n||(n=a),s||(s=[]);++u<c;){var p=e[u];t>0&&n(p)?t>1?r(p,t-1,n,i,s):o(s,p):i||(s[s.length]=p)}return s}var o=e("./_arrayPush"),a=e("./_isFlattenable");t.exports=r},{"./_arrayPush":172,"./_isFlattenable":221}],177:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{"./_castPath":200,"./_toKey":257,dup:30}],178:[function(e,t,n){arguments[4][31][0].apply(n,arguments)},{"./_arrayPush":172,"./isArray":266,dup:31}],179:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{"./_Symbol":164,"./_getRawTag":211,"./_objectToString":244,dup:32}],180:[function(e,t,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],181:[function(e,t,n){var r=e("./_baseFindIndex"),o=e("./_baseIsNaN"),a=e("./_strictIndexOf");t.exports=function(e,t,n){return t==t?a(e,t,n):r(e,o,n)}},{"./_baseFindIndex":175,"./_baseIsNaN":186,"./_strictIndexOf":255}],182:[function(e,t,n){arguments[4][34][0].apply(n,arguments)},{"./_baseGetTag":179,"./isObjectLike":272,dup:34}],183:[function(e,t,n){arguments[4][35][0].apply(n,arguments)},{"./_baseIsEqualDeep":184,"./isObjectLike":272,dup:35}],184:[function(e,t,n){arguments[4][36][0].apply(n,arguments)},{"./_Stack":163,"./_equalArrays":203,"./_equalByTag":204,"./_equalObjects":205,"./_getTag":213,"./isArray":266,"./isBuffer":268,"./isTypedArray":274,dup:36}],185:[function(e,t,n){arguments[4][37][0].apply(n,arguments)},{"./_Stack":163,"./_baseIsEqual":183,dup:37}],186:[function(e,t,n){t.exports=function(e){return e!=e}},{}],187:[function(e,t,n){arguments[4][38][0].apply(n,arguments)},{"./_isMasked":225,"./_toSource":258,"./isFunction":269,"./isObject":271,dup:38}],188:[function(e,t,n){arguments[4][39][0].apply(n,arguments)},{"./_baseGetTag":179,"./isLength":270,"./isObjectLike":272,dup:39}],189:[function(e,t,n){arguments[4][40][0].apply(n,arguments)},{"./_baseMatches":191,"./_baseMatchesProperty":192,"./identity":264,"./isArray":266,"./property":278,dup:40}],190:[function(e,t,n){arguments[4][41][0].apply(n,arguments)},{"./_isPrototype":226,"./_nativeKeys":242,dup:41}],191:[function(e,t,n){arguments[4][43][0].apply(n,arguments)},{"./_baseIsMatch":185,"./_getMatchData":209,"./_matchesStrictComparable":239,dup:43}],192:[function(e,t,n){arguments[4][44][0].apply(n,arguments)},{"./_baseIsEqual":183,"./_isKey":223,"./_isStrictComparable":227,"./_matchesStrictComparable":239,"./_toKey":257,"./get":262,"./hasIn":263,dup:44}],193:[function(e,t,n){arguments[4][45][0].apply(n,arguments)},{dup:45}],194:[function(e,t,n){arguments[4][46][0].apply(n,arguments)},{"./_baseGet":177,dup:46}],195:[function(e,t,n){arguments[4][47][0].apply(n,arguments)},{dup:47}],196:[function(e,t,n){arguments[4][48][0].apply(n,arguments)},{"./_Symbol":164,"./_arrayMap":171,"./isArray":266,"./isSymbol":273,dup:48}],197:[function(e,t,n){arguments[4][49][0].apply(n,arguments)},{dup:49}],198:[function(e,t,n){var r=e("./_SetCache"),o=e("./_arrayIncludes"),a=e("./_arrayIncludesWith"),i=e("./_cacheHas"),s=e("./_createSet"),u=e("./_setToArray"),c=200;t.exports=function(e,t,n){var p=-1,f=o,l=e.length,_=!0,d=[],y=d;if(n)_=!1,f=a;else if(l>=c){var b=t?null:s(e);if(b)return u(b);_=!1,f=i,y=new r}else y=t?[]:d;e:for(;++p<l;){var h=e[p],v=t?t(h):h;if(h=n||0!==h?h:0,_&&v==v){for(var g=y.length;g--;)if(y[g]===v)continue e;t&&y.push(v),d.push(h)}else f(y,v,n)||(y!==d&&y.push(v),d.push(h))}return d}},{"./_SetCache":162,"./_arrayIncludes":168,"./_arrayIncludesWith":169,"./_cacheHas":199,"./_createSet":202,"./_setToArray":249}],199:[function(e,t,n){arguments[4][50][0].apply(n,arguments)},{dup:50}],200:[function(e,t,n){arguments[4][51][0].apply(n,arguments)},{"./_isKey":223,"./_stringToPath":256,"./isArray":266,"./toString":284,dup:51}],201:[function(e,t,n){arguments[4][64][0].apply(n,arguments)},{"./_root":246,dup:64}],202:[function(e,t,n){var r=e("./_Set"),o=e("./noop"),a=e("./_setToArray"),i=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;t.exports=i},{"./_Set":161,"./_setToArray":249,"./noop":277}],203:[function(e,t,n){arguments[4][66][0].apply(n,arguments)},{"./_SetCache":162,"./_arraySome":173,"./_cacheHas":199,dup:66}],204:[function(e,t,n){arguments[4][67][0].apply(n,arguments)},{"./_Symbol":164,"./_Uint8Array":165,"./_equalArrays":203,"./_mapToArray":238,"./_setToArray":249,"./eq":259,dup:67}],205:[function(e,t,n){arguments[4][68][0].apply(n,arguments)},{"./_getAllKeys":207,dup:68}],206:[function(e,t,n){(function(e){var n="object"==(void 0===e?"undefined":_typeof(e))&&e&&e.Object===Object&&e;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],207:[function(e,t,n){arguments[4][70][0].apply(n,arguments)},{"./_baseGetAllKeys":178,"./_getSymbols":212,"./keys":275,dup:70}],208:[function(e,t,n){arguments[4][72][0].apply(n,arguments)},{"./_isKeyable":224,dup:72}],209:[function(e,t,n){arguments[4][73][0].apply(n,arguments)},{"./_isStrictComparable":227,"./keys":275,dup:73}],210:[function(e,t,n){arguments[4][74][0].apply(n,arguments)},{"./_baseIsNative":187,"./_getValue":214,dup:74}],211:[function(e,t,n){arguments[4][76][0].apply(n,arguments)},{"./_Symbol":164,dup:76}],212:[function(e,t,n){arguments[4][77][0].apply(n,arguments)},{"./_arrayFilter":167,"./stubArray":279,dup:77}],213:[function(e,t,n){arguments[4][79][0].apply(n,arguments)},{"./_DataView":155,"./_Map":158,"./_Promise":160,"./_Set":161,"./_WeakMap":166,"./_baseGetTag":179,"./_toSource":258,dup:79}],214:[function(e,t,n){arguments[4][80][0].apply(n,arguments)},{dup:80}],215:[function(e,t,n){arguments[4][81][0].apply(n,arguments)},{"./_castPath":200,"./_isIndex":222,"./_toKey":257,"./isArguments":265,"./isArray":266,"./isLength":270,dup:81}],216:[function(e,t,n){arguments[4][82][0].apply(n,arguments)},{"./_nativeCreate":241,dup:82}],217:[function(e,t,n){arguments[4][83][0].apply(n,arguments)},{dup:83}],218:[function(e,t,n){arguments[4][84][0].apply(n,arguments)},{"./_nativeCreate":241,dup:84}],219:[function(e,t,n){arguments[4][85][0].apply(n,arguments)},{"./_nativeCreate":241,dup:85}],220:[function(e,t,n){arguments[4][86][0].apply(n,arguments)},{"./_nativeCreate":241,dup:86}],221:[function(e,t,n){var r=e("./_Symbol"),o=e("./isArguments"),a=e("./isArray"),i=r?r.isConcatSpreadable:void 0;t.exports=function(e){return a(e)||o(e)||!!(i&&e&&e[i])}},{"./_Symbol":164,"./isArguments":265,"./isArray":266}],222:[function(e,t,n){arguments[4][90][0].apply(n,arguments)},{dup:90}],223:[function(e,t,n){arguments[4][91][0].apply(n,arguments)},{"./isArray":266,"./isSymbol":273,dup:91}],224:[function(e,t,n){arguments[4][92][0].apply(n,arguments)},{dup:92}],225:[function(e,t,n){arguments[4][93][0].apply(n,arguments)},{"./_coreJsData":201,dup:93}],226:[function(e,t,n){arguments[4][94][0].apply(n,arguments)},{dup:94}],227:[function(e,t,n){arguments[4][95][0].apply(n,arguments)},{"./isObject":271,dup:95}],228:[function(e,t,n){arguments[4][96][0].apply(n,arguments)},{dup:96}],229:[function(e,t,n){arguments[4][97][0].apply(n,arguments)},{"./_assocIndexOf":174,dup:97}],230:[function(e,t,n){arguments[4][98][0].apply(n,arguments)},{"./_assocIndexOf":174,dup:98}],231:[function(e,t,n){arguments[4][99][0].apply(n,arguments)},{"./_assocIndexOf":174,dup:99}],232:[function(e,t,n){arguments[4][100][0].apply(n,arguments)},{"./_assocIndexOf":174,dup:100}],233:[function(e,t,n){arguments[4][101][0].apply(n,arguments)},{"./_Hash":156,"./_ListCache":157,"./_Map":158,dup:101}],234:[function(e,t,n){arguments[4][102][0].apply(n,arguments)},{"./_getMapData":208,dup:102}],235:[function(e,t,n){arguments[4][103][0].apply(n,arguments)},{"./_getMapData":208,dup:103}],236:[function(e,t,n){arguments[4][104][0].apply(n,arguments)},{"./_getMapData":208,dup:104}],237:[function(e,t,n){arguments[4][105][0].apply(n,arguments)},{"./_getMapData":208,dup:105}],238:[function(e,t,n){arguments[4][106][0].apply(n,arguments)},{dup:106}],239:[function(e,t,n){arguments[4][107][0].apply(n,arguments)},{dup:107}],240:[function(e,t,n){arguments[4][108][0].apply(n,arguments)},{"./memoize":276,dup:108}],241:[function(e,t,n){arguments[4][109][0].apply(n,arguments)},{"./_getNative":210,dup:109}],242:[function(e,t,n){arguments[4][110][0].apply(n,arguments)},{"./_overArg":245,dup:110}],243:[function(e,t,n){arguments[4][112][0].apply(n,arguments)},{"./_freeGlobal":206,dup:112}],244:[function(e,t,n){arguments[4][113][0].apply(n,arguments)},{dup:113}],245:[function(e,t,n){arguments[4][114][0].apply(n,arguments)},{dup:114}],246:[function(e,t,n){arguments[4][115][0].apply(n,arguments)},{"./_freeGlobal":206,dup:115}],247:[function(e,t,n){arguments[4][116][0].apply(n,arguments)},{dup:116}],248:[function(e,t,n){arguments[4][117][0].apply(n,arguments)},{dup:117}],249:[function(e,t,n){arguments[4][118][0].apply(n,arguments)},{dup:118}],250:[function(e,t,n){arguments[4][119][0].apply(n,arguments)},{"./_ListCache":157,dup:119}],251:[function(e,t,n){arguments[4][120][0].apply(n,arguments)},{dup:120}],252:[function(e,t,n){arguments[4][121][0].apply(n,arguments)},{dup:121}],253:[function(e,t,n){arguments[4][122][0].apply(n,arguments)},{dup:122}],254:[function(e,t,n){arguments[4][123][0].apply(n,arguments)},{"./_ListCache":157,"./_Map":158,"./_MapCache":159,dup:123}],255:[function(e,t,n){t.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},{}],256:[function(e,t,n){arguments[4][124][0].apply(n,arguments)},{"./_memoizeCapped":240,dup:124}],257:[function(e,t,n){arguments[4][125][0].apply(n,arguments)},{"./isSymbol":273,dup:125}],258:[function(e,t,n){arguments[4][126][0].apply(n,arguments)},{dup:126}],259:[function(e,t,n){arguments[4][128][0].apply(n,arguments)},{dup:128}],260:[function(e,t,n){arguments[4][129][0].apply(n,arguments)},{"./_baseFindIndex":175,"./_baseIteratee":189,"./toInteger":282,dup:129}],261:[function(e,t,n){var r=e("./_baseFlatten");t.exports=function(e){return null!=e&&e.length?r(e,1):[]}},{"./_baseFlatten":176}],262:[function(e,t,n){arguments[4][130][0].apply(n,arguments)},{"./_baseGet":177,dup:130}],263:[function(e,t,n){arguments[4][131][0].apply(n,arguments)},{"./_baseHasIn":180,"./_hasPath":215,dup:131}],264:[function(e,t,n){arguments[4][132][0].apply(n,arguments)},{dup:132}],265:[function(e,t,n){arguments[4][133][0].apply(n,arguments)},{"./_baseIsArguments":182,"./isObjectLike":272,dup:133}],266:[function(e,t,n){arguments[4][134][0].apply(n,arguments)},{dup:134}],267:[function(e,t,n){arguments[4][135][0].apply(n,arguments)},{"./isFunction":269,"./isLength":270,dup:135}],268:[function(e,t,n){arguments[4][136][0].apply(n,arguments)},{"./_root":246,"./stubFalse":280,dup:136}],269:[function(e,t,n){arguments[4][138][0].apply(n,arguments)},{"./_baseGetTag":179,"./isObject":271,dup:138}],270:[function(e,t,n){arguments[4][139][0].apply(n,arguments)},{dup:139}],271:[function(e,t,n){arguments[4][140][0].apply(n,arguments)},{dup:140}],272:[function(e,t,n){arguments[4][141][0].apply(n,arguments)},{dup:141}],273:[function(e,t,n){arguments[4][142][0].apply(n,arguments)},{"./_baseGetTag":179,"./isObjectLike":272,dup:142}],274:[function(e,t,n){arguments[4][143][0].apply(n,arguments)},{"./_baseIsTypedArray":188,"./_baseUnary":197,"./_nodeUtil":243,dup:143}],275:[function(e,t,n){arguments[4][144][0].apply(n,arguments)},{"./_arrayLikeKeys":170,"./_baseKeys":190,"./isArrayLike":267,dup:144}],276:[function(e,t,n){arguments[4][146][0].apply(n,arguments)},{"./_MapCache":159,dup:146}],277:[function(e,t,n){t.exports=function(){}},{}],278:[function(e,t,n){arguments[4][147][0].apply(n,arguments)},{"./_baseProperty":193,"./_basePropertyDeep":194,"./_isKey":223,"./_toKey":257,dup:147}],279:[function(e,t,n){arguments[4][148][0].apply(n,arguments)},{dup:148}],280:[function(e,t,n){arguments[4][149][0].apply(n,arguments)},{dup:149}],281:[function(e,t,n){arguments[4][150][0].apply(n,arguments)},{"./toNumber":283,dup:150}],282:[function(e,t,n){arguments[4][151][0].apply(n,arguments)},{"./toFinite":281,dup:151}],283:[function(e,t,n){arguments[4][152][0].apply(n,arguments)},{"./isObject":271,"./isSymbol":273,dup:152}],284:[function(e,t,n){arguments[4][153][0].apply(n,arguments)},{"./_baseToString":196,dup:153}],285:[function(e,t,n){var r=e("./_baseIteratee"),o=e("./_baseUniq");t.exports=function(e,t){return e&&e.length?o(e,r(t,2)):[]}},{"./_baseIteratee":189,"./_baseUniq":198}],286:[function(e,t,n){n.parse=function(e){var t,n,r,o,a={};return t={beginSequence:function(e){var t="sequences";n||(n=a,t="gameTrees"),n.gameTrees&&(t="gameTrees");var r={parent:n};return n[t]=n[t]||[],n[t].push(r),n=r,e.substring(1)},endSequence:function(e){return n=n.parent?n.parent:null,e.substring(1)},node:function(e){return r={},n.nodes=n.nodes||[],n.nodes.push(r),e.substring(1)},property:function(e){var t,n=e.match(/([^\\\]]|\\(.|\n|\r))*\]/);if(!n.length)throw new Error("malformed sgf");n=n[0].length;var a=e.substring(0,n),i=a.indexOf("["),s=a.substring(0,i);return s||(s=o,Array.isArray(r[s])||(r[s]=[r[s]])),o=s,t=a.substring(i+1,a.length-1),s.length>2&&console.warn("SGF PropIdents should be no longer than two characters:",s),Array.isArray(r[s])?r[s].push(t):r[s]=t,e.substring(n)},unrecognized:function(e){return e.substring(1)}},function(e){for(;e;){var n,r=e.substring(0,1);n="("===r?"beginSequence":")"===r?"endSequence":";"===r?"node":-1!==r.search(/[A-Z\[]/)?"property":"unrecognized",e=t[n](e)}return a}(e)},n.generate=function(e){function t(e){var n="";return e.forEach(function(e){n+="(",e.nodes&&e.nodes.forEach(function(e){var t=";";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];Array.isArray(o)&&(o=o.join("][")),t+=r+"["+o+"]"}n+=t}),e.sequences&&(n+=t(e.sequences)),n+=")"}),n}return t(e.gameTrees)}},{}],287:[function(e,t,n){t.exports=function(e){var t,n,r=function(){this.init()};return r.prototype={init:function(){e&&(this.game=e.gameTrees[0],this.reset())},load:function(t){e=t,this.init()},games:function(){return e.gameTrees},selectGame:function(t){if(!(t<e.gameTrees.length))throw new Error("the collection doesn't contain that many games");return this.game=e.gameTrees[t],this.reset(),this},reset:function(){return t=this.game,n=t.nodes[0],this.path={m:0},this},getSmartgame:function(){return e},variations:function(){if(t){var e=t.nodes,r=e?e.indexOf(n):null;if(e)return r===e.length-1?t.sequences||[]:[]}},next:function(e){e=e||0;var r=t.nodes,o=r?r.indexOf(n):null;if(null===o||o>=r.length-1){if(!t.sequences)return this;t=t.sequences[e]?t.sequences[e]:t.sequences[0],n=t.nodes[0],this.path[this.path.m]=e,this.path.m+=1}else n=r[o+1],this.path.m+=1;return this},previous:function(){var e=t.nodes,r=e?e.indexOf(n):null;if(delete this.path[this.path.m],r&&0!==r)n=e[r-1],this.path.m-=1;else{if(!t.parent||t.parent.gameTrees)return this;(t=t.parent).nodes?(n=t.nodes[t.nodes.length-1],this.path.m-=1):n=null}return this},last:function(){for(var e=this.totalMoves();this.path.m<e;)this.next();return this},first:function(){return this.reset(),this},goTo:function(e){"string"==typeof e?e=this.pathTransform(e,"object"):"number"==typeof e&&(e={m:e}),this.reset();for(var t=n,r=0;r<e.m&&t;r+=1){var o=e[r+1]||0;t=this.next(o)}return this},getGameInfo:function(){return this.game.nodes[0]},node:function(){return n},totalMoves:function(){for(var e=this.game,t=0;e;)t+=e.nodes.length,e=e.sequences?e.sequences[0]:null;return t-1},comment:function(e){if(void 0===e)return n.C?n.C.replace(/\\([\\:\]])/g,"$1"):"";n.C=e.replace(/[\\:\]]/g,"\\$&")},translateCoordinates:function(e){var t="abcdefghijklmnopqrst",n=[];return n[0]=t.indexOf(e.substring(0,1)),n[1]=t.indexOf(e.substring(1,2)),n},pathTransform:function(e,t,n){function r(e){if("string"==typeof e)return e;if(!e)return"";o=e.m;var t=[];for(var r in e)e.hasOwnProperty(r)&&"m"!==r&&e[r]>0&&(n?t.push(", variation "+e[r]+" at move "+r):t.push("-"+r+":"+e[r]));return o+=t.join("")}var o;return void 0===t&&(t="string"==typeof e?"object":"string"),o="string"===t?r(e):"object"===t?function(e){if("object"===(void 0===e?"undefined":_typeof(e))&&(e=r(e)),!e)return{m:0};var t=e.split("-");return o={m:Number(t.shift())},t.length&&t.forEach(function(e,t){e=e.split(":"),o[Number(e[0])]=parseInt(e[1],10)}),o}(e):void 0}},new r}},{}],288:[function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.exports=function(t){function n(e,r){return Array.isArray(e[0])||(e=[e]),r?i(e.map(function(e){return n([e])}),function(e){return e[0]+"_"+e[1]}):[u(e[0][0]-t.projectionSettings.offset[0]-p,t.boardDimensions[0]),u(e[0][1]-t.projectionSettings.offset[1]-p,t.boardDimensions[1])]}function o(e){var t=e.wrappedGame,n=e.node,o=e.pending,a=e.currentPath,i=e.tGo,s=t.variations().length;if(a.m>1e3)throw new Error("seem to be stuck!");if(e.hasSiblings=s>0,e.hasSiblings){for(var u=s-1;u>0;u--){var c=r({},a);c[a.m+1]=u,c.m+=1,void 0!==i?o.push({path:c,tGoData:i.exportData()}):o.push({path:c})}return e.node=t.next().node(),a[a.m+1]=0,a.m+=1,e.node}var p=t.next().node();if(n===p){if(0===o.length)return e.node=null,e.node;var f=o.pop();return e.hasSiblings=!0,void 0!==i&&i.loadData(f.tGoData),e.node=t.goTo(f.path).node(),e.currentPath=f.path,e.node}return a.m+=1,e.node=p,e.node}var a=e("lodash/flatten"),i=e("lodash/uniqBy"),s=e("lodash/findIndex"),u=function(e,t){return(e%t+t)%t},c="source sgf for toroidal Go has been adapted by go-variants-transformer so as to be rendered by any standard Go application";(t=r({addPasses:!0,boardDimensions:[11,11],transformToString:!0,addComments:!0,coordinatesType:1,wraparoundMarkersType:1},t)).projectionSettings=r({wraparound:4,offset:[0,0]},t.projectionSettings),void 0===t.addPasses&&(t.addPasses=!0),t.boardDimensions=t.boardDimensions||[11,11],void 0===t.transformToString&&(t.transformToString=!0),void 0===t.addComments&&(t.addComments=!0);var p=t.projectionSettings.wraparound,f={},l=function(e){return String.fromCharCode(e<26?e+97:e+39)},_=function(e){var t=e.charCodeAt(0);return t>=97?t-97:t-26},d=function(e){return[_(e.substring(0,1)),_(e.substring(1,2))]};f.coordinateLabels=l,f.translateCoordinates=d,f.options=t,f.projectOnLine=function(e,n){for(var r=t.boardDimensions[n?1:0],o=[],a=Math.ceil(-(p+e)/r);a<=(p+r-1-e)/r;a++)o.push(p+e+a*r);return o},f.inverseProjectOnFlat=n,f.projectOnFlat=function(e){for(var n=f.projectOnLine(e[0]+t.projectionSettings.offset[0]),r=f.projectOnLine(e[1]+t.projectionSettings.offset[1]),o=[],a=0;a<n.length;a++)for(var i=0;i<r.length;i++)o.push([n[a],r[i]]);return o},f.modX=function(e){return u(e,t.boardDimensions[0])},f.modY=function(e){return u(e,t.boardDimensions[1])};var y=function(){if(f.wraparoundAndCoords=[],t.projectionSettings.wraparound>0){var e=t.boardDimensions[0],n=t.boardDimensions[1],r=[];if([1,2,4].indexOf(t.wraparoundMarkersType)>-1){for(var o=t.wraparoundMarkersType>1?[Math.floor((e-1)/2)+1,Math.ceil((e-1)/2)+1,Math.floor((n-1)/2)+1,Math.ceil((n-1)/2)+1]:[-1,99,-1,99],a=1;a<=e;a++)a<o[0]||a>o[1]||(r.push(l(p-1+a)+l(p-1)+":─"),r.push(l(p-1+a)+l(p+e)+":─"));for(var i=1;i<=n;i++)i<o[2]||i>o[3]||(r.push(l(p-1)+l(p-1+i)+":│"),r.push(l(p+n)+l(p-1+i)+":│"))}if([1,2,3].indexOf(t.wraparoundMarkersType)>-1&&(r.push(l(p-1)+l(p+n)+":└"),r.push(l(p+e)+l(p+n)+":┘"),r.push(l(p-1)+l(p-1)+":┌"),r.push(l(p+e)+l(p-1)+":┐")),t.coordinatesType>0&&p>1){for(var s=1;s<2*p+e-1;s++){var u=f.modX(-t.projectionSettings.offset[0]-p+s);u>=8&&u++;var c=l(u).toUpperCase();r.push(l(s)+l(0)+":"+c),r.push(l(s)+l(2*p+n-1)+":"+c)}for(var _=1;_<2*p+n-1;_++){var d=""+(f.modY(n+t.projectionSettings.offset[1]+p-_-1)+1);r.push(l(0)+l(_)+":"+d),r.push(l(2*p+e-1)+l(_)+":"+d)}}f.wraparoundAndCoords=r}};return y(),f.coords2String=function(e){return l(e[0])+l(e[1])},f.inverseTransform=function(n,a){void 0===a&&(a=e("smartgame")),"string"==typeof n&&(n=e("smartgamer")(a.parse(n)));var u=n.first().node(),p=/^[a-zA-Z :0-9\-(\r\n]+GoVariantsTransformer\)--[\r\n]*/,l=function(){void 0!==u.C&&(u.C=u.C.replace(p,"")),""===u.C&&delete u.C},_=function(){var e=[];void 0!==u.LB&&(e=u.LB,Array.isArray(e)||(e=[e]),e=e.filter(function(e){return!f.wraparoundAndCoords.includes(e)}),e=i(e.map(function(e){return e.split(":",2)}).map(function(e){return[f.coords2String(f.inverseProjectOnFlat(d(e[0]))),e[1]]}),function(e){return e[0]}).map(function(e){return e[0]+":"+e[1]})),u.LB=e,0===u.LB.length&&delete u.LB,u.CM&&delete u.CM,u.CT&&delete u.CT};if(_(),u.SZ=t.boardDimensions[0],u.AP="go-variants-transformer",void 0!==u.SO){var y=new RegExp(" \\("+c+"\\)");u.SO=u.SO.replace(y,"")}var b={wrappedGame:n,node:u,pending:[],currentPath:{m:0},siblingMoves:{}};for(u=o(b);null!==u;){_(),l();var h=void 0!==u.AB||void 0!==u.B,v=h?u.AB:u.AW,g=h?u.B:u.W,m=v||g,x=Array.isArray(m)?m:[m],j=h?""===u.B:""===u.W,S=void 0!==m&&""!==m,A=S?f.coords2String(f.inverseProjectOnFlat(x.map(d))):void 0;if(b.hasSiblings){var O=r({},n.path);O.m--,delete O[O.m],O=n.pathTransform(O),void 0===b.siblingMoves[O]&&(b.siblingMoves[O]=[]),v?b.siblingMoves[O].push(A):g&&b.siblingMoves[O].indexOf(A)>-1&&(u.XX="inverseTransformToDelete")}delete u[h?"AB":"AW"],delete u[h?"B":"W"],delete u.CR,delete u.AE,j&&(u[h?"B":"W"]=""),S&&(u[h?"B":"W"]=A),["DD","MA","SL","SQ","TR"].forEach(function(e){if(void 0!==u[e]){var t=[];t=Array.isArray(u[e])?u[e]:[u[e]],t=f.inverseProjectOnFlat(t.map(d),!0).map(f.coords2String),u[e]=t}}),u=o(b)}return function e(t){if(t.sequences){for(var n=t.sequences,r=s(n,function(e){return"inverseTransformToDelete"===e.nodes[0].XX}),o=0,a=n.length;r>-1;)if(n.splice(r,1),r=s(n,function(e){return"inverseTransformToDelete"===e.nodes[0].XX}),++o>a)throw new Error("seem to be stuck!");for(var i=0;i<n.length;i++)e(n[i])}else t.nodes&&e(t.nodes[t.nodes.length-1])}(n.game),t.transformToString?a.generate({gameTrees:[n.game]}):n},f.transform=function(n,r,i,s){function p(e,n){if(t.addComments){var o="move "+m.currentPath.m+"\nWhite stones captured by Black: "+r.board.captured[1]+"\nBlack stones captured by White: "+r.board.captured[0];e&&(o+="\n"+(n?"Black passes":"White passes")),o+="\n--(the content above was generated automatically by GoVariantsTransformer)--",o+=void 0===_.C?"":"\n"+_.C,_.C=o}}void 0===r&&(r=e("go-variants-engine")({boardDimensions:t.boardDimensions})),void 0===i&&(i=e("smartgame")),void 0===s&&(s=e("smartgamer"));var l=s(i.parse(n)),_=l.node(),b=0,h={m:0};if(void 0!==_.SZ){var v=Number(_.SZ);t.boardDimensions=[v,v],r.options.boardDimensions=t.boardDimensions,y()}_.SZ=""+(t.boardDimensions[0]+2*t.projectionSettings.wraparound),t.projectionSettings.offset[0]=u(t.projectionSettings.offset[0],t.boardDimensions[0]),t.projectionSettings.offset[1]=u(t.projectionSettings.offset[1],t.boardDimensions[1]);var g=function(){var e=[];void 0!==_.LB&&function(){e=_.LB,Array.isArray(e)||(e=[e]);var t=e.map(function(e){return e.split(":",2)}).map(function(e){return[d(e[0]),e[1]]}).map(function(e){return[f.projectOnFlat(e[0]),e[1]]});e=[];for(var n=function(n){e=e.concat(t[n][0].map(function(e){return f.coords2String(e)+":"+t[n][1]}))},r=0;r<t.length;r++)n(r)}(),_.LB=f.wraparoundAndCoords.concat(e),0===_.LB.length&&delete _.LB};g(),void 0!==_.SO&&(_.SO=l.game.nodes[0].SO+" ("+c+")"),_.AP="go-variants-transformer";var m={wrappedGame:l,node:_,pending:[],currentPath:h,tGo:r};for(_=o(m);null!==_;){var x=void 0!==_.B,j=x?_.B:_.W,S=""===j||t.boardDimensions[0]===t.boardDimensions[1]&&t.boardDimensions[0]<=19&&"tt"===j;if(void 0!==j||S)if(g(),S){if(delete _[x?"B":"W"],p(S,x),_[x?"AB":"AW"]=[],++b>=1e3)break;_=o(m)}else{var A=d(j),O=null;try{O=r.play(x?"b":"w",A)}catch(e){if("point is not empty"!==e.message)throw e}var C=f.projectOnFlat(A),w=null===O?[]:C.map(f.coords2String),k=null===O?[]:a(a(O.removed).map(f.projectOnFlat)).map(f.coords2String);t.addPasses?_[x?"B":"W"]="":delete _[x?"B":"W"],_[x?"AB":"AW"]=w,w.length>0&&(_.CR=w),k.length>0&&(_.AE=k),p(S,x),["DD","MA","SL","SQ","TR"].forEach(function(e){if(void 0!==_[e]){var t=[];t=Array.isArray(_[e])?_[e]:[_[e]],t=a(t.map(d).map(f.projectOnFlat)).map(f.coords2String),_[e]=t}}),_.MN=h.m,_=o(m)}else _=o(m)}return t.transformToString?i.generate({gameTrees:[l.game]}):l},f}},{"go-variants-engine":154,"lodash/findIndex":260,"lodash/flatten":261,"lodash/uniqBy":285,smartgame:286,smartgamer:287}]},{},[288])(288)});
//# sourceMappingURL=transformer.min.js.map
